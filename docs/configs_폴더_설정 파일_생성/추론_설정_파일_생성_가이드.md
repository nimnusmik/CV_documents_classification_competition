# ğŸ”® ì¶”ë¡  ì„¤ì • íŒŒì¼ ìƒì„± ì™„ì „ ê°€ì´ë“œ

## ğŸ“‹ ëª©ì°¨

1. [ì¶”ë¡  íŒŒì´í”„ë¼ì¸ ì•„í‚¤í…ì²˜](#ì¶”ë¡ -íŒŒì´í”„ë¼ì¸-ì•„í‚¤í…ì²˜)
2. [ì„¤ì • íŒŒì¼ ì¢…ë¥˜ ë¶„ì„](#ì„¤ì •-íŒŒì¼-ì¢…ë¥˜-ë¶„ì„)
3. [ì„¤ì •ê°’ ìƒì„¸ ê°€ì´ë“œ](#ì„¤ì •ê°’-ìƒì„¸-ê°€ì´ë“œ)
4. [TTA ì‹œìŠ¤í…œ ì™„ì „ ê°€ì´ë“œ](#tta-ì‹œìŠ¤í…œ-ì™„ì „-ê°€ì´ë“œ)
5. [ì‹¤ë¬´ ì˜ˆì œ í…œí”Œë¦¿](#ì‹¤ë¬´-ì˜ˆì œ-í…œí”Œë¦¿)
6. [ì„±ëŠ¥ ìµœì í™” ì „ëµ](#ì„±ëŠ¥-ìµœì í™”-ì „ëµ)
7. [ë¬¸ì œí•´ê²° ê°€ì´ë“œ](#ë¬¸ì œí•´ê²°-ê°€ì´ë“œ)

---

## ğŸ—ï¸ ì¶”ë¡  íŒŒì´í”„ë¼ì¸ ì•„í‚¤í…ì²˜

```mermaid
graph TB
    subgraph "ğŸ“ Config Files"
        A[configs/infer.yaml<br/>ê¸°ë³¸ ì¶”ë¡  ì„¤ì •]
        B[configs/infer_highperf.yaml<br/>ê³ ì„±ëŠ¥ TTA ì¶”ë¡ ]
        C[configs/infer_multi_model_ensemble.yaml<br/>ë‹¤ì¤‘ ëª¨ë¸ ì•™ìƒë¸” ì¶”ë¡ ]
    end
    
    subgraph "ğŸ”® Inference Pipeline"  
        D[src/inference/infer.py<br/>ê¸°ë³¸ ì¶”ë¡  ë¡œì§]
        E[src/inference/infer_highperf.py<br/>ê³ ì„±ëŠ¥ TTA ì¶”ë¡ ]
        F[src/inference/infer_calibrated.py<br/>ìº˜ë¦¬ë¸Œë ˆì´ì…˜ ì¶”ë¡ ]
        G[src/inference/infer_main.py<br/>í†µí•© ì¶”ë¡  ì¸í„°í˜ì´ìŠ¤]
    end
    
    subgraph "ğŸ¯ TTA System"
        H[src/data/transforms.py<br/>TTA ë³€í™˜ íŒŒì´í”„ë¼ì¸]
        I[Essential TTA<br/>5ê°€ì§€ í•µì‹¬ ë³€í™˜]
        J[Comprehensive TTA<br/>15ê°€ì§€ í¬ê´„ ë³€í™˜]
    end
    
    subgraph "ğŸ¤– Model Loading"
        K[experiments/train/<br/>í•™ìŠµëœ ì²´í¬í¬ì¸íŠ¸]
        L[src/models/build.py<br/>ëª¨ë¸ ë³µì›]
    end
    
    subgraph "ğŸ’¾ Output"
        M[submissions/<br/>ì œì¶œ íŒŒì¼ CSV]
        N[logs/infer/<br/>ì¶”ë¡  ë¡œê·¸]
    end
    
    A --> D
    B --> E  
    C --> E
    D --> G
    E --> G
    F --> G
    
    G --> H
    H --> I
    H --> J
    
    G --> K
    K --> L
    
    G --> M
    G --> N
    
    style A fill:#e3f2fd, color:#000000
    style B fill:#f3e5f5, color:#000000
    style C fill:#e8f5e8, color:#000000  
    style G fill:#fff3e0, color:#000000
    style I fill:#ffebee, color:#000000
    style J fill:#ffcdd2, color:#000000
```

---

## ğŸ“Š ì„¤ì • íŒŒì¼ ì¢…ë¥˜ ë¶„ì„

### ğŸ“‹ ì¶”ë¡  ì„¤ì • íŒŒì¼ ë¹„êµí‘œ

| ì„¤ì • íŒŒì¼ | ì¶”ë¡  ë°©ì‹ | TTA | ì•™ìƒë¸” | ì˜ˆìƒ ì‹œê°„ | ì„±ëŠ¥ | ê¶Œì¥ ì‚¬ìš©ì²˜ |
|---------|----------|-----|--------|---------|------|-----------|
| `infer.yaml` | ê¸°ë³¸ ë‹¨ì¼ ëª¨ë¸ | íšŒì „ë§Œ | âŒ | 5ë¶„ | â­â­â­ | ë¹ ë¥¸ ê²€ì¦ |
| `infer_highperf.yaml` | ê³ ì„±ëŠ¥ TTA | Essential/Comprehensive | âœ… | 17ë¶„/50ë¶„+ | â­â­â­â­â­ | **ëŒ€íšŒ ì œì¶œìš©** |
| `infer_multi_model_ensemble.yaml` | ë‹¤ì¤‘ ëª¨ë¸ ì•™ìƒë¸” | Comprehensive | âœ… | 2ì‹œê°„+ | â­â­â­â­â­ | ìµœì¢… ì œì¶œìš© |

### ğŸ¯ ì¶”ë¡  ëª¨ë“œ ì„ íƒ ê°€ì´ë“œ

```mermaid
flowchart TD
    A[ì¶”ë¡  ëª©ì ] --> B{ëª©ì ì€?}
    
    B -->|ë¹ ë¥¸ ê²€ì¦| C[infer.yaml<br/>ê¸°ë³¸ ì¶”ë¡ <br/>5ë¶„]
    B -->|ê³ ì„±ëŠ¥ í•„ìš”| D{ì‹œê°„ ì—¬ìœ }
    B -->|ìµœê³  ì„±ëŠ¥| E[infer_multi_model_ensemble.yaml<br/>ì•™ìƒë¸” ì¶”ë¡ <br/>2ì‹œê°„+]
    
    D -->|17ë¶„ OK| F[infer_highperf.yaml<br/>tta_type: essential]
    D -->|50ë¶„+ OK| G[infer_highperf.yaml<br/>tta_type: comprehensive]
    
    style C fill:#e3f2fd, color:#000000
    style F fill:#f3e5f5, color:#000000
    style G fill:#ffcdd2, color:#000000
    style E fill:#e8f5e8, color:#000000
```

---

## ğŸ“– ì„¤ì •ê°’ ìƒì„¸ ê°€ì´ë“œ

### 1. ğŸ·ï¸ **project** ì„¹ì…˜ - ì¶”ë¡  ë©”íƒ€ë°ì´í„°

```yaml
project:
  run_name: "convnext_base_384_highperf_inference"  # ğŸ·ï¸ ì¶”ë¡  ì‹¤í–‰ëª…
  device: "cuda"                                   # ğŸ–¥ï¸ ì‹¤í–‰ ë””ë°”ì´ìŠ¤
  num_workers: 8                                   # ğŸ‘· DataLoader ì›Œì»¤ ìˆ˜
  date_format: "%Y%m%d"                           # ğŸ“… ë‚ ì§œ í¬ë§·
  time_format: "%H%M"                             # â° ì‹œê°„ í¬ë§·
```

#### ğŸ“Š ì„¤ì •ê°’ ìƒì„¸ ì •ë³´

| ì„¤ì • | ìœ íš¨ê°’ | ì¶”ë¡  ì„±ëŠ¥ ì˜í–¥ | ë©”ëª¨ë¦¬ ì˜í–¥ | ê¶Œì¥ê°’ |
|-----|-------|-------------|----------|-------|
| `device` | "cuda", "cpu" | ì†ë„ 10-50ë°° ì°¨ì´ | - | "cuda" |
| `num_workers` | 0-16 | I/O ë³‘ëª© í•´ê²° | RAM â†‘ | 8 |

---

### 2. ğŸ“ **ckpt** ì„¹ì…˜ - ì²´í¬í¬ì¸íŠ¸ ì„¤ì •

```yaml
ckpt:
  path: "./experiments/train/lastest-train/convnext_base_384/ckpt/best_fold0.pth"
```

#### ğŸ”§ ì²´í¬í¬ì¸íŠ¸ ê²½ë¡œ íŒ¨í„´

| íŒ¨í„´ | ì„¤ëª… | ì˜ˆì‹œ |
|-----|------|------|
| ìë™ ê²½ë¡œ | configì— `ckpt` ì„¹ì…˜ ì—†ìŒ | ìµœì‹  í•™ìŠµ ê²°ê³¼ ìë™ íƒìƒ‰ |
| ì§ì ‘ ì§€ì • | íŠ¹ì • ì²´í¬í¬ì¸íŠ¸ ì‚¬ìš© | `experiments/train/20250910/...` |
| CLI ì˜¤ë²„ë¼ì´ë“œ | `--ckpt` ì¸ìë¡œ ì§€ì • | ëª…ë ¹í–‰ì—ì„œ ë™ì  ë³€ê²½ |

---

### 3. ğŸ“Š **data** ì„¹ì…˜ - ì¶”ë¡  ë°ì´í„° ì„¤ì •

```yaml
data:
  sample_csv: "../data/raw/sample_submission.csv"   # ğŸ“„ ì œì¶œ í…œí”Œë¦¿
  image_dir_test: "../data/raw/test"               # ğŸ–¼ï¸ í…ŒìŠ¤íŠ¸ ì´ë¯¸ì§€ í´ë”  
  image_ext: ".jpg"                                # ğŸ“¸ ì´ë¯¸ì§€ í™•ì¥ì
  id_col: "ID"                                     # ğŸ†” ID ì»¬ëŸ¼ëª…
  target_col: "target"                             # ğŸ¯ íƒ€ê¹ƒ ì»¬ëŸ¼ëª… 
  num_classes: 17                                  # ğŸ”¢ í´ë˜ìŠ¤ ìˆ˜
```

#### ğŸ¯ ì¶”ë¡  ë°ì´í„° ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] **í…ŒìŠ¤íŠ¸ ì´ë¯¸ì§€**: `image_dir_test` í´ë”ì— ì´ë¯¸ì§€ íŒŒì¼ ì¡´ì¬
- [ ] **ì œì¶œ í…œí”Œë¦¿**: `sample_csv`ì— ì˜¬ë°”ë¥¸ ID ëª©ë¡
- [ ] **í™•ì¥ì ì¼ì¹˜**: ì‹¤ì œ ì´ë¯¸ì§€ì™€ `image_ext` ì„¤ì • ì¼ì¹˜
- [ ] **í´ë˜ìŠ¤ ìˆ˜**: í•™ìŠµì‹œ ì‚¬ìš©í•œ `num_classes`ì™€ ë™ì¼

---

### 4. ğŸ¤– **model** ì„¹ì…˜ - ëª¨ë¸ ë³µì› ì„¤ì •

```yaml
model:
  name: "convnext_base_384_highperf"               # ğŸ—ï¸ ëª¨ë¸ ì•„í‚¤í…ì²˜ëª…
  pretrained: False                                # âš ï¸ ì¶”ë¡ ì‹œ False ê¶Œì¥
  drop_rate: 0.05                                  # ğŸ’§ í•™ìŠµì‹œì™€ ë™ì¼í•´ì•¼ í•¨
  drop_path_rate: 0.1                             # ğŸ›¤ï¸ í•™ìŠµì‹œì™€ ë™ì¼í•´ì•¼ í•¨  
  pooling: "avg"                                  # ğŸŠ ê¸€ë¡œë²Œ í’€ë§ ë°©ì‹
```

#### âš ï¸ **ì¤‘ìš”ì‚¬í•­**: ëª¨ë¸ ì„¤ì • ì¼ì¹˜ì„±
- ì¶”ë¡ ì‹œ ëª¨ë¸ ì„¤ì •ì€ **í•™ìŠµì‹œì™€ ì™„ì „íˆ ë™ì¼**í•´ì•¼ í•¨
- `pretrained: False` ê¶Œì¥ (í•™ìŠµëœ ê°€ì¤‘ì¹˜ ì‚¬ìš©)
- ë“œë¡­ì•„ì›ƒ ê´€ë ¨ ì„¤ì •ì€ ì¶”ë¡ ì‹œ ìë™ ë¹„í™œì„±í™”ë¨

---

### 5. ğŸ“ **train** ì„¹ì…˜ - ì¶”ë¡ ì‹œ í•„ìš”í•œ í•™ìŠµ ì„¤ì •

```yaml
train:
  img_size: 384                                    # ğŸ“ í•™ìŠµì‹œì™€ ë™ì¼í•´ì•¼ í•¨
  batch_size: 48                                   # ğŸ“¦ ì¶”ë¡ ìš© ë°°ì¹˜ í¬ê¸°
```

#### ğŸ”§ ë°°ì¹˜ í¬ê¸° ìµœì í™” ê°€ì´ë“œ

| GPU | ê¶Œì¥ ë°°ì¹˜ í¬ê¸° | ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  | ì˜ˆìƒ ì†ë„ |
|-----|------------|------------|---------|
| RTX 4090 24GB | 64-128 | ~80% | ìµœê³ ì† |
| RTX 3080 10GB | 32-48 | ~85% | ê³ ì† |
| RTX 3070 8GB | 16-32 | ~90% | ë³´í†µ |

---

## ğŸ¯ TTA ì‹œìŠ¤í…œ ì™„ì „ ê°€ì´ë“œ

### 6. ğŸ”„ **inference** ì„¹ì…˜ - TTA ë° ì¶”ë¡  ì„¤ì •

```yaml
inference:
  tta: true                                        # âœ… TTA ì‚¬ìš© ì—¬ë¶€
  tta_type: "essential"                            # ğŸ¯ TTA íƒ€ì… ì„ íƒ
  tta_rot_degrees: [0, -3, 3]                      # ğŸ”„ ë ˆê±°ì‹œ íšŒì „ ì„¤ì •
  confidence_threshold: 0.9                        # ğŸ“Š ì•™ìƒë¸” ì‹ ë¢°ë„ ì„ê³„ê°’
```

### ğŸ”¥ TTA ì‹œìŠ¤í…œ ìƒì„¸ ë¶„ì„

#### TTA íƒ€ì… ë¹„êµí‘œ

| TTA íƒ€ì… | ë³€í™˜ ìˆ˜ | ì˜ˆìƒ ì‹œê°„ | ë©”ëª¨ë¦¬ ì‚¬ìš© | ì„±ëŠ¥ í–¥ìƒ | ì‚¬ìš© ê¶Œì¥ |
|---------|--------|---------|----------|----------|---------|
| **Essential** | 5ê°€ì§€ | ~17ë¶„ | ê¸°ë³¸ Ã— 5 | +2~3% | â­â­â­â­â­ |
| **Comprehensive** | 15ê°€ì§€ | ~50ë¶„+ | ê¸°ë³¸ Ã— 15 | +3~5% | â­â­â­â­ |
| Legacy (íšŒì „) | 3ê°€ì§€ | ~10ë¶„ | ê¸°ë³¸ Ã— 3 | +1~2% | â­â­â­ |

#### ğŸ”„ Essential TTA (5ê°€ì§€ í•µì‹¬ ë³€í™˜)

```python
# src/data/transforms.py:221-250ì— ì •ì˜ë¨
essential_tta_transforms = [
    "ì›ë³¸ ì´ë¯¸ì§€",                    # ê¸°ë³¸ ì „ì²˜ë¦¬ë§Œ
    "90ë„ íšŒì „",                     # ë¬¸ì„œ íšŒì „ ëŒ€ì‘
    "180ë„ íšŒì „",                    # ë’¤ì§‘íŒ ë¬¸ì„œ
    "270ë„ íšŒì „",                    # ì„¸ë¡œ ë¬¸ì„œ
    "ë°ê¸° ì¡°ì • (factor=1.2)"          # ì¡°ëª… ë³€í™” ëŒ€ì‘
]
```

#### ğŸŒŸ Comprehensive TTA (15ê°€ì§€ í¬ê´„ ë³€í™˜)

```python
# src/data/transforms.py:251-311ì— ì •ì˜ë¨
comprehensive_tta_transforms = [
    # ê¸°ë³¸ ë³€í™˜ (5ê°€ì§€)
    "ì›ë³¸", "90ë„", "180ë„", "270ë„", "ë°ê¸° ì¡°ì •",
    
    # ê³ ê¸‰ ë³€í™˜ (10ê°€ì§€ ì¶”ê°€)
    "ìˆ˜í‰ ë’¤ì§‘ê¸°",                    # ì¢Œìš° ë°˜ì „ ë¬¸ì„œ
    "ìˆ˜ì§ ë’¤ì§‘ê¸°",                    # ìƒí•˜ ë°˜ì „ ë¬¸ì„œ  
    "ëŒ€ë¹„ ì¡°ì • (factor=1.3)",         # ìŠ¤ìº” í’ˆì§ˆ ë³€í™”
    "ì±„ë„ ì¡°ì • (factor=0.8)",         # ìƒ‰ìƒ ë³€í™” ëŒ€ì‘
    "ìƒ‰ì¡° ì¡°ì • (shift=0.1)",          # ìƒ‰ì˜¨ë„ ë³€í™”
    "ê°€ìš°ì‹œì•ˆ ë¸”ëŸ¬ (sigma=0.5)",      # ì´ˆì  íë¦¼ ëŒ€ì‘
    "ìƒ¤í”„ë‹ (alpha=0.3)",            # ì„ ëª…ë„ ê°•í™”
    "ë…¸ì´ì¦ˆ ì¶”ê°€ (scale=10)",         # ìŠ¤ìº” ë…¸ì´ì¦ˆ ëŒ€ì‘
    "ì•½ê°„ íšŒì „ (-5ë„)",              # ë¯¸ì„¸ ê¸°ìš¸ì„ ëŒ€ì‘
    "ì•½ê°„ íšŒì „ (+5ë„)"               # ë¯¸ì„¸ ê¸°ìš¸ì„ ëŒ€ì‘
]
```

### ğŸ¯ TTA ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬

| ëª¨ë¸ | TTA ì—†ìŒ | Essential TTA | Comprehensive TTA |
|------|---------|--------------|------------------|
| ConvNeXt Base | 0.9238 | 0.9489 (+2.51%) | 0.9652 (+4.14%) |
| Swin Base | 0.9156 | 0.9401 (+2.45%) | 0.9578 (+4.22%) |

### ğŸ”§ TTA ì„¤ì • ë°©ë²•

```yaml
# ë¹ ë¥¸ ê³ ì„±ëŠ¥ (17ë¶„, +2~3% í–¥ìƒ)
inference:
  tta: true
  tta_type: "essential"

# ìµœê³  ì„±ëŠ¥ (50ë¶„+, +3~5% í–¥ìƒ)  
inference:
  tta: true
  tta_type: "comprehensive"

# ë ˆê±°ì‹œ íšŒì „ë§Œ (10ë¶„, +1~2% í–¥ìƒ)
inference:
  tta: true
  tta_rot_degrees: [0, 90, 180, 270]
  # tta_type ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ ë ˆê±°ì‹œ ëª¨ë“œ
```

---

### 7. ğŸ¢ **ensemble** ì„¹ì…˜ - ì•™ìƒë¸” ì„¤ì •

```yaml
ensemble:
  fold_results_path: "./experiments/train/lastest-train/fold_results.yaml"  
  use_tta: true                                    # ì•™ìƒë¸”ì—ì„œë„ TTA ì ìš©
  num_tta: 20                                      # TTA ë°˜ë³µ íšŸìˆ˜ (ê³ ì„±ëŠ¥ìš©)
```

---

## ğŸš€ ì‹¤ë¬´ ì˜ˆì œ í…œí”Œë¦¿

### Template 1: âš¡ ë¹ ë¥¸ ê²€ì¦ (5ë¶„)

```yaml
# configs/infer_quick_validation.yaml  
project:
  run_name: "quick_validation"
  
data:
  sample_csv: "../data/raw/sample_submission.csv"
  image_dir_test: "../data/raw/test"
  
train:
  img_size: 320                          # ì‘ì€ ì´ë¯¸ì§€ë¡œ ë¹ ë¥¸ ì¶”ë¡ 
  batch_size: 64                         # í° ë°°ì¹˜ë¡œ íš¨ìœ¨ì„±
  
model:
  name: "efficientnet_b3"                # ê°€ë²¼ìš´ ëª¨ë¸
  
inference:
  tta: false                             # TTA ë¹„í™œì„±í™”ë¡œ ë¹ ë¥¸ ì¶”ë¡ 
```

### Template 2: ğŸ¯ ê³ ì„±ëŠ¥ Essential TTA (17ë¶„)

```yaml
# configs/infer_essential_tta.yaml
project:
  run_name: "convnext_base_384_essential_inference"
  
ensemble:
  fold_results_path: "./experiments/train/lastest-train/fold_results.yaml"
  
train:
  img_size: 384
  batch_size: 48                         # RTX 4090 ìµœì í™”
  
model:
  name: "convnext_base_384_highperf"
  drop_rate: 0.05                        # Team ì„¤ì •ê³¼ ë™ì¼
  drop_path_rate: 0.1
  
inference:
  tta: true
  tta_type: "essential"                  # 5ê°€ì§€ í•µì‹¬ TTA
  confidence_threshold: 0.9
```

### Template 3: ğŸ† ìµœê³ ì„±ëŠ¥ Comprehensive TTA (50ë¶„+)

```yaml
# configs/infer_comprehensive_tta.yaml
project:
  run_name: "convnext_base_384_comprehensive_inference"
  
model:
  name: "convnext_base_384_in22ft1k"     # ImageNet-22k ëª¨ë¸
  drop_rate: 0.05
  drop_path_rate: 0.1
  
inference:
  tta: true  
  tta_type: "comprehensive"              # 15ê°€ì§€ í¬ê´„ TTA
  confidence_threshold: 0.9

wandb:
  enabled: false                         # ì¶”ë¡ ì‹œ WandB ë¹„í™œì„±í™”
```

### Template 4: ğŸ”¥ ë‹¤ì¤‘ëª¨ë¸ ì•™ìƒë¸” (2ì‹œê°„+)

```yaml
# configs/infer_multi_model_ultimate.yaml
ensemble:
  fold_results_path: "./experiments/train/lastest-train/fold_results.yaml"
  use_tta: true
  num_tta: 25                            # ê³ í’ˆì§ˆ TTA
  
# ë‹¤ì¤‘ ëª¨ë¸ë³„ ì„¤ì •
models:
  fold_0:
    name: "convnext_base_384_in22ft1k"
    tta_type: "comprehensive"
  fold_1: 
    name: "swin_base_patch4_window12_384"
    tta_type: "comprehensive" 
  fold_2:
    name: "convnext_base_384_in22ft1k"
    tta_type: "essential"
```

---

## âš¡ ì„±ëŠ¥ ìµœì í™” ì „ëµ

### ğŸ¯ ì¶”ë¡  ì†ë„ vs ì •í™•ë„ íŠ¸ë ˆì´ë“œì˜¤í”„

```mermaid
graph LR
    A[ì†ë„ ìš°ì„ ] --> B[TTA ì—†ìŒ<br/>5ë¶„<br/>0.924]
    B --> C[Essential TTA<br/>17ë¶„<br/>0.949]  
    C --> D[Comprehensive TTA<br/>50ë¶„<br/>0.965]
    D --> E[Multi-Model Ensemble<br/>2ì‹œê°„<br/>0.970+]
    E --> F[ì •í™•ë„ ìš°ì„ ]
    
    style A fill:#ffcdd2, color:#000000
    style F fill:#c8e6c9, color:#000000
```

### ğŸ”§ ë©”ëª¨ë¦¬ ìµœì í™” ê°€ì´ë“œ

| GPU ë©”ëª¨ë¦¬ | ê¶Œì¥ ì„¤ì • | ì˜ˆìƒ ì„±ëŠ¥ |
|----------|----------|---------|
| **24GB (RTX 4090)** | batch_size: 64, img_size: 384 | ìµœê³  |
| **10GB (RTX 3080)** | batch_size: 32, img_size: 320 | ê³ ì„±ëŠ¥ |
| **8GB (RTX 3070)** | batch_size: 16, img_size: 320 | ë³´í†µ |

### ğŸ¯ ëŒ€íšŒ ì œì¶œ ì „ëµ

#### ğŸ¥‡ **1st Place ì „ëµ** (ìµœê³  ì„±ëŠ¥)
```yaml
model: "convnext_base_384_in22ft1k"    # Team ëª¨ë¸
inference:
  tta_type: "comprehensive"            # 15ê°€ì§€ TTA
ensemble: 5-fold ì•™ìƒë¸”               # ëª¨ë“  í´ë“œ í™œìš©
ì˜ˆìƒ ì‹œê°„: 2-3ì‹œê°„
ì˜ˆìƒ ì„±ëŠ¥: 0.965-0.970+
```

#### ğŸ¥ˆ **2nd Place ì „ëµ** (íš¨ìœ¨ì„±ê³¼ ì„±ëŠ¥ ê· í˜•)
```yaml
model: "convnext_base_384_in22ft1k"    # Team ëª¨ë¸  
inference:
  tta_type: "essential"                # 5ê°€ì§€ í•µì‹¬ TTA
ì˜ˆìƒ ì‹œê°„: 17ë¶„
ì˜ˆìƒ ì„±ëŠ¥: 0.945-0.950
```

#### ğŸ¥‰ **3rd Place ì „ëµ** (ë¹ ë¥¸ ê²€ì¦)
```yaml  
model: "convnext_base_384"
inference:
  tta: false                           # TTA ì—†ìŒ
ì˜ˆìƒ ì‹œê°„: 5ë¶„
ì˜ˆìƒ ì„±ëŠ¥: 0.920-0.930
```

---

## ğŸ”§ ë¬¸ì œí•´ê²° ê°€ì´ë“œ

### âŒ ìì£¼ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ë“¤

#### 1. **ì²´í¬í¬ì¸íŠ¸ ë¡œë“œ ì‹¤íŒ¨**
```bash
FileNotFoundError: best_fold0.pth not found
```
**í•´ê²° ë°©ë²•:**
```yaml
# ë°©ë²• 1: ckpt ì„¹ì…˜ ì œê±°í•˜ì—¬ ìë™ íƒìƒ‰
# ckpt:
#   path: "..."

# ë°©ë²• 2: ì§ì ‘ ê²½ë¡œ ì§€ì •
ckpt:
  path: "./experiments/train/20250910/convnext/ckpt/best_fold0.pth"

# ë°©ë²• 3: CLIì—ì„œ ì§€ì •
python -m src.inference.infer_main --config configs/infer.yaml --ckpt path/to/checkpoint.pth
```

#### 2. **ëª¨ë¸ ì•„í‚¤í…ì²˜ ë¶ˆì¼ì¹˜**
```bash
RuntimeError: Error(s) in loading state_dict
```
**í•´ê²° ë°©ë²•:**
- í•™ìŠµì‹œ ì‚¬ìš©í•œ ëª¨ë¸ ì„¤ì •ê³¼ ì™„ì „íˆ ë™ì¼í•˜ê²Œ ì„¤ì •
- `drop_rate`, `drop_path_rate` ê°’ í™•ì¸

#### 3. **TTA ë©”ëª¨ë¦¬ ë¶€ì¡±**
```bash
RuntimeError: CUDA out of memory (TTA)
```  
**í•´ê²° ë°©ë²•:**
```yaml
train:
  batch_size: 16                       # ë°°ì¹˜ í¬ê¸° ê°ì†Œ
inference:
  tta_type: "essential"                # Comprehensive â†’ Essential
```

#### 4. **í…ŒìŠ¤íŠ¸ ì´ë¯¸ì§€ ì—†ìŒ**
```bash
FileNotFoundError: test image not found
```
**í•´ê²° ë°©ë²•:**
- `data.image_dir_test` ê²½ë¡œ í™•ì¸
- ì´ë¯¸ì§€ íŒŒì¼ê³¼ `image_ext` ì„¤ì • ì¼ì¹˜ í™•ì¸

### ğŸ¯ ì„±ëŠ¥ ë””ë²„ê¹… ì²´í¬ë¦¬ìŠ¤íŠ¸

#### ğŸ“Š **ì¶”ë¡  ê²°ê³¼ ê²€ì¦**
- [ ] **ì œì¶œ íŒŒì¼**: CSV í˜•ì‹ ë° ID ì¼ì¹˜ í™•ì¸
- [ ] **ì˜ˆì¸¡ ë¶„í¬**: í´ë˜ìŠ¤ë³„ ì˜ˆì¸¡ ë¶„í¬ í•©ë¦¬ì„±
- [ ] **ì‹ ë¢°ë„**: ë†’ì€ confidence ì˜ˆì¸¡ ë¹„ìœ¨
- [ ] **ì¼ê´€ì„±**: ì—¬ëŸ¬ TTA ê²°ê³¼ê°„ ì¼ê´€ì„±

#### ğŸ” **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**
```bash
# ì¶”ë¡  ë¡œê·¸ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
tail -f logs/infer/infer_*.log

# GPU ì‚¬ìš©ë¥  ëª¨ë‹ˆí„°ë§
nvidia-smi -l 1

# TTA ì§„í–‰ ìƒí™© í™•ì¸
grep "TTA" logs/infer/infer_*.log
```

### ğŸ“ˆ ì„±ëŠ¥ í–¥ìƒ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] **ëª¨ë¸**: ImageNet-22k ì‚¬ì „í•™ìŠµ ëª¨ë¸ ì‚¬ìš©
- [ ] **TTA**: Essential ì´ìƒ TTA ì ìš©
- [ ] **ì•™ìƒë¸”**: ì—¬ëŸ¬ í´ë“œ ê²°ê³¼ í†µí•©
- [ ] **í›„ì²˜ë¦¬**: ì‹ ë¢°ë„ ì„ê³„ê°’ ì¡°ì •
- [ ] **ìº˜ë¦¬ë¸Œë ˆì´ì…˜**: Temperature Scaling ì ìš©

---

## ğŸ“š ì°¸ê³  ìë£Œ

### ğŸ”— ê´€ë ¨ ë¬¸ì„œ
- [TTA ë³€í™˜ ìƒì„¸ êµ¬í˜„](../../src/data/transforms.py#L221-L311)
- [Team ê³ ì„±ëŠ¥ ê¸°ë²•](../../notebooks/team/KBH/main.ipynb)
- [ì „ì²´ íŒŒì´í”„ë¼ì¸ ê°€ì´ë“œ](../ì „ì²´_íŒŒì´í”„ë¼ì¸_ê°€ì´ë“œ.md)

### ğŸ¯ ì‹¤í–‰ ì˜ˆì œ
```bash
# Essential TTA ì¶”ë¡  (17ë¶„, ê¶Œì¥)
python -m src.inference.infer_main --config configs/infer_highperf.yaml --mode highperf --fold-results experiments/train/lastest-train/fold_results.yaml

# Comprehensive TTA ì¶”ë¡  (50ë¶„+, ìµœê³  ì„±ëŠ¥)
# infer_highperf.yamlì—ì„œ tta_type: "comprehensive"ë¡œ ë³€ê²½ í›„ ì‹¤í–‰

# ë¹ ë¥¸ ê²€ì¦ ì¶”ë¡  (5ë¶„)
python -m src.inference.infer_main --config configs/infer.yaml --mode basic
```