# ğŸ› ï¸ ë¬¸ì œ í•´ê²° ê°€ì´ë“œ

## ğŸš¨ ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

### ëª¨ë¸ íŒŒì¼ ì°¾ê¸°
```bash
# ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë¸ í™•ì¸
find experiments/train -path "*/results/ckpt/*.pth" | head -5

# ìµœì‹  best ëª¨ë¸ ì°¾ê¸°
LASTEST=$(find experiments/train -path "*/results/ckpt/best_fold0.pth" | sort | tail -1)
echo "ìµœì‹  ëª¨ë¸: $LASTEST"
```

### 1. GPU ë©”ëª¨ë¦¬ ë¶€ì¡± (CUDA Out of Memory)

#### í•´ê²° ë°©ë²•
```bash
# 1) í˜„ì¬ GPU ìƒíƒœ í™•ì¸
nvidia-smi

# 2) ë©”ëª¨ë¦¬ ì •ë¦¬
python -c "import torch; torch.cuda.empty_cache(); print('ë©”ëª¨ë¦¬ ì •ë¦¬ ì™„ë£Œ')"

# 3) ì‘ì€ ë°°ì¹˜ í¬ê¸°ë¡œ ì¬ì‹œì‘
python src/utils/gpu_optimization/auto_batch_size.py --config configs/train.yaml --test-only
```

### 2. ëª¨ë¸ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ

#### í•´ê²° ë°©ë²•
```bash
# 1) ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë¸ í™•ì¸
find experiments/train -path "*/results/ckpt/*.pth" | head -5

# 2) ìµœì‹  ëª¨ë¸ ìë™ ì„ íƒ
LASTEST=$(find experiments/train -path "*/results/ckpt/best_fold0.pth" | sort | tail -1)
echo "ìµœì‹  ëª¨ë¸: $LASTEST"

# 3) ëª¨ë¸ ê²½ë¡œ ì§ì ‘ ì§€ì •
python src/inference/infer_main.py \
    --config configs/infer.yaml \
    --ckpt $LASTEST
```

### 3. í•™ìŠµì´ ì§„í–‰ë˜ì§€ ì•ŠìŒ

#### í•´ê²° ë°©ë²•
```bash
# 1) ë¡œê·¸ í™•ì¸
tail -20 logs/$(date +%Y%m%d)/train/*.log

# 2) ë°ì´í„° ê²½ë¡œ í™•ì¸
ls -la data/raw/train/ | head -5
ls -la data/raw/test/ | head -5

# 3) í™˜ê²½ ì¬ì„¤ì •
eval "$(pyenv init --path)" && pyenv activate cv_py3_11_9
pip install -r requirements.txt
```

### 4. ì„¤ì • íŒŒì¼ ì˜¤ë¥˜

#### í•´ê²° ë°©ë²•
```bash
# 1) YAML ë¬¸ë²• í™•ì¸
python -c "import yaml; yaml.safe_load(open('configs/train.yaml'))"

# 2) ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ì´ˆê¸°í™”
cp configs/train.yaml.backup configs/train.yaml  # ë°±ì—…ì´ ìˆëŠ” ê²½ìš°

# 3) ì„¤ì • ë‚ ì§œ ì—…ë°ì´íŠ¸
python src/utils/config/update_config_dates.py
```

## ï¿½ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ ë¬¸ì œ

### Python ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì˜¤ë¥˜

#### ë¬¸ì œ: ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì§ì ‘ ì‹¤í–‰í•˜ë ¤ í•  ë•Œ ì˜¤ë¥˜ ë°œìƒ
```bash
# âŒ ì˜ëª»ëœ ì‹¤í–‰ ë°©ë²•
src/utils/gpu_optimization/auto_batch_size.py --config configs/train.yaml

# âœ… ì˜¬ë°”ë¥¸ ì‹¤í–‰ ë°©ë²•
python src/utils/gpu_optimization/auto_batch_size.py --config configs/train.yaml
```

#### í•´ê²° ë°©ë²•
```bash
# 1) Python ì¸í„°í”„ë¦¬í„°ë¡œ ì‹¤í–‰
python src/utils/gpu_optimization/auto_batch_size.py --config configs/train_highperf.yaml
python src/utils/gpu_optimization/team_gpu_check.py

# 2) ì‹¤í–‰ ê¶Œí•œ í™•ì¸ ë° ì„¤ì • (ì„ íƒì‚¬í•­)
chmod +x src/utils/**/*.py

# 3) shebang ì¶”ê°€ (ìŠ¤í¬ë¦½íŠ¸ ë§¨ ìœ„ì—)
#!/usr/bin/env python3
```

### ë¡œê·¸ íŒŒì¼ ì €ì¥ ìœ„ì¹˜ ë¬¸ì œ

#### ë¬¸ì œ: ì¶”ë¡  ë¡œê·¸ê°€ ì˜ˆìƒê³¼ ë‹¤ë¥¸ ìœ„ì¹˜ì— ì €ì¥ë¨
```bash
# ì‹¤ì œ ì €ì¥ ìœ„ì¹˜: logs/infer/
# ì˜ˆìƒ ìœ„ì¹˜: logs/YYYYMMDD/infer/
```

#### í˜„ì¬ ìƒí™©
```bash
# ì¶”ë¡  ë¡œê·¸ ì‹¤ì œ ì €ì¥ ìœ„ì¹˜
ls -la logs/infer/
# ì¶œë ¥: infer_YYYYMMDD-HHMM_modelname-inference.log

# í•™ìŠµ ë¡œê·¸ëŠ” ë‚ ì§œë³„ í´ë”ì— ì €ì¥
ls -la logs/YYYYMMDD/train/
```

#### ì„ì‹œ í•´ê²° ë°©ë²•
```bash
# 1) í˜„ì¬ ì¶”ë¡  ë¡œê·¸ í™•ì¸
tail -20 logs/infer/*.log

# 2) ìµœì‹  ì¶”ë¡  ë¡œê·¸ ì°¾ê¸°
ls -t logs/infer/*.log | head -1

# 3) ìˆ˜ë™ìœ¼ë¡œ ë‚ ì§œë³„ í´ë”ë¡œ ì´ë™ (ì„ íƒì‚¬í•­)
mkdir -p logs/$(date +%Y%m%d)/infer/
mv logs/infer/*.log logs/$(date +%Y%m%d)/infer/
```

## ï¿½ğŸ“Š ì„±ëŠ¥ ë¬¸ì œ

### ì„±ëŠ¥ì´ ì˜ˆìƒë³´ë‹¤ ë‚®ì„ ë•Œ

#### í•´ê²° ë°©ë²•
```bash
# 1) ë°ì´í„° ê²€ì¦
python -c "
import pandas as pd
df = pd.read_csv('data/raw/train.csv')
print(f'ë°ì´í„° í¬ê¸°: {len(df)}')
print(f'í´ë˜ìŠ¤ ë¶„í¬:\n{df.iloc[:, 1].value_counts()}')
"

# 2) í•˜ì´í¼íŒŒë¼ë¯¸í„° ìµœì í™”
python src/training/train_main.py \
    --config configs/train.yaml \
    --optimize \
    --n-trials 10

# 3) ê²€ì¦ëœ ì„¤ì • ì‚¬ìš©
python src/training/train_main.py --config configs/train.yaml --mode basic
```

### í•™ìŠµì´ ë„ˆë¬´ ëŠë¦´ ë•Œ

#### í•´ê²° ë°©ë²•
```bash
# 1) GPU ì„±ëŠ¥ í™•ì¸
python src/utils/gpu_optimization/team_gpu_check.py

# 2) ë°°ì¹˜ í¬ê¸° ìµœì í™”
python src/utils/gpu_optimization/auto_batch_size.py --config configs/train.yaml

# 3) ë¹ ë¥¸ ì„¤ì • ì‚¬ìš©
python src/training/train_main.py --config configs/train_fast.yaml --mode basic
```

## ğŸ”§ í™˜ê²½ ë¬¸ì œ

### Python í™˜ê²½ ë¬¸ì œ

#### í•´ê²° ë°©ë²•
```bash
# 1) Python ë²„ì „ í™•ì¸
python3 --version  # 3.11.9 í•„ìš”

# 2) ê°€ìƒí™˜ê²½ ì¬ì„¤ì •
pyenv deactivate
pyenv activate cv_py3_11_9

# 3) ì˜ì¡´ì„± ì¬ì„¤ì¹˜
pip install -r requirements.txt --force-reinstall
```

### CUDA í™˜ê²½ ë¬¸ì œ

#### í•´ê²° ë°©ë²•
```bash
# 1) CUDA ë²„ì „ í™•ì¸
nvidia-smi
nvcc --version

# 2) PyTorch CUDA í˜¸í™˜ì„± í™•ì¸
python -c "
import torch
print(f'PyTorch: {torch.__version__}')
print(f'CUDA available: {torch.cuda.is_available()}')
print(f'CUDA version: {torch.version.cuda}')
"

# 3) PyTorch ì¬ì„¤ì¹˜ (í•„ìš”ì‹œ)
pip uninstall torch torchvision
pip install torch torchvision --index-url https://download.pytorch.org/whl/cu121
```

## ğŸ“‹ ë¡œê·¸ ë¶„ì„

### ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜
```bash
# ìµœì‹  ë¡œê·¸ í™•ì¸
ls -la logs/$(date +%Y%m%d)/

# í•™ìŠµ ë¡œê·¸
tail -f logs/$(date +%Y%m%d)/train/*.log

# ì¶”ë¡  ë¡œê·¸
tail -f logs/$(date +%Y%m%d)/infer/*.log
```

### ì˜¤ë¥˜ íŒ¨í„´ ì°¾ê¸°
```bash
# GPU ë©”ëª¨ë¦¬ ì˜¤ë¥˜
grep -i "out of memory\|cuda\|memory" logs/$(date +%Y%m%d)/*/*.log

# íŒŒì¼ ê²½ë¡œ ì˜¤ë¥˜
grep -i "not found\|no such file" logs/$(date +%Y%m%d)/*/*.log

# ì„±ëŠ¥ ì§€í‘œ
grep -i "f1\|accuracy\|loss" logs/$(date +%Y%m%d)/*/*.log
```

## ğŸ†˜ ê¸´ê¸‰ ë³µêµ¬

### ëª¨ë“  ê²ƒì´ ì‘ë™í•˜ì§€ ì•Šì„ ë•Œ
```bash
# 1) ê¸°ë³¸ í…ŒìŠ¤íŠ¸
python -c "
import torch, pandas, numpy
print('âœ… ê¸°ë³¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì •ìƒ')
print(f'GPU: {torch.cuda.is_available()}')
"

# 2) ìµœì†Œ ì„¤ì •ìœ¼ë¡œ í…ŒìŠ¤íŠ¸
python src/training/train_main.py --config configs/train.yaml --mode basic --epochs 1

# 3) ì „ì²´ í™˜ê²½ ì¬êµ¬ì„±
# (í•„ìš”ì‹œ README.mdì˜ í™˜ê²½ ì„¤ì • ì„¹ì…˜ ì°¸ì¡°)
```
