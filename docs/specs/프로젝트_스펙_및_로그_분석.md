# í”„ë¡œì íŠ¸ ì „ì²´ ìŠ¤í™ ë° ë¡œê·¸ ë¶„ì„ ìš”ì•½ (í†µí•© CLI ì—…ë°ì´íŠ¸)

## 1. ë””ë ‰í† ë¦¬ êµ¬ì¡° ë° ì£¼ìš” íŒŒì¼ ì„¤ëª…

```
AI_Lab/computer-vision-competition-1SEN/
â”œâ”€â”€ configs/           # íŒŒì´í”„ë¼ì¸ ì„¤ì • íŒŒì¼ (train/infer/optuna)
â”‚   â”œâ”€â”€ train.yaml               # ê¸°ë³¸ í•™ìŠµ ì„¤ì • (EfficientNet)
â”‚   â”œâ”€â”€ train_highperf.yaml      # ê³ ì„±ëŠ¥ í•™ìŠµ ì„¤ì • (Swin Transformer)
â”‚   â”œâ”€â”€ train_fast_optimized.yaml # ğŸ†• ë¹ ë¥¸ ì‹¤í—˜ ì„¤ì • (20-30ë¶„)
â”‚   â”œâ”€â”€ train_optimized_*.yaml   # ìµœì í™”ëœ ì„¤ì • íŒŒì¼ë“¤
â”‚   â”œâ”€â”€ infer.yaml               # ê¸°ë³¸ ì¶”ë¡  ì„¤ì •
â”‚   â”œâ”€â”€ infer_highperf.yaml      # ê³ ì„±ëŠ¥ ì¶”ë¡  ì„¤ì •
â”‚   â”œâ”€â”€ optuna_config.yaml       # Optuna ìµœì í™” ì„¤ì •
â”‚   â””â”€â”€ optuna_fast_config.yaml  # ğŸ†• ë¹ ë¥¸ Optuna ì„¤ì • (8 trials)
â”œâ”€â”€ scripts/           # ğŸ†• ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ ê´€ë¦¬ í´ë”
â”‚   â”œâ”€â”€ monitor_training.sh      # í•™ìŠµ ëª¨ë‹ˆí„°ë§
â”‚   â”œâ”€â”€ run_fast_training.sh     # ë¹ ë¥¸ í•™ìŠµ (20-30ë¶„)
â”‚   â”œâ”€â”€ run_highperf_training.sh # ê³ ì„±ëŠ¥ í•™ìŠµ (1-2ì‹œê°„)
â”‚   â””â”€â”€ update_inference_date.sh # ì¶”ë¡  ì„¤ì • ì—…ë°ì´íŠ¸
â”œâ”€â”€ data/              # ì›ë³¸ ë° ë¶„í•  ë°ì´í„°, í…ŒìŠ¤íŠ¸ ì´ë¯¸ì§€
â”œâ”€â”€ docs/              # í”„ë¡œì íŠ¸ ê°€ì´ë“œ ë° ë¶„ì„ ë¬¸ì„œ
â”‚   â”œâ”€â”€ optimization/  # ğŸ†• Optuna/Temperature Scaling ê°€ì´ë“œ
â”‚   â””â”€â”€ scripts/       # ğŸ†• ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©ë²• ê°€ì´ë“œ
â”œâ”€â”€ experiments/       # í•™ìŠµ ê²°ê³¼, ëª¨ë¸ ì²´í¬í¬ì¸íŠ¸, foldë³„ ê²°ê³¼
â”‚   â””â”€â”€ optimization/  # ğŸ†• ìµœì í™” ì‹¤í—˜ ê²°ê³¼
â”œâ”€â”€ logs/              # í•™ìŠµ/ì¶”ë¡ /íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ ë¡œê·¸ (ë‚ ì§œë³„ êµ¬ì¡°í™”)
â”‚   â”œâ”€â”€ YYYYMMDD/      # ğŸ†• ë‚ ì§œë³„ í´ë” êµ¬ì¡°
â”‚   â”‚   â”œâ”€â”€ train/     # í•™ìŠµ ë¡œê·¸
â”‚   â”‚   â”œâ”€â”€ infer/     # ì¶”ë¡  ë¡œê·¸
â”‚   â”‚   â”œâ”€â”€ optimization/ # Optuna ìµœì í™” ë¡œê·¸
â”‚   â”‚   â””â”€â”€ pipeline/  # íŒŒì´í”„ë¼ì¸ ë¡œê·¸
â”‚   â””â”€â”€ optimization/  # ğŸ†• Optuna ìµœì í™” ë¡œê·¸
â”œâ”€â”€ notebooks/         # ì‹¤í—˜/ë¶„ì„/ëª¨ë“ˆí™” ë…¸íŠ¸ë¶
â”œâ”€â”€ src/               # íŒŒì´í”„ë¼ì¸, ëª¨ë¸, ìœ í‹¸ë¦¬í‹° ì½”ë“œ
â”‚   â”œâ”€â”€ optimization/  # ğŸ†• Optuna í•˜ì´í¼íŒŒë¼ë¯¸í„° ìµœì í™” ëª¨ë“ˆ
â”‚   â”œâ”€â”€ calibration/   # ğŸ†• Temperature Scaling ìº˜ë¦¬ë¸Œë ˆì´ì…˜ ëª¨ë“ˆ
â”‚   â””â”€â”€ training/train_main.py # ğŸ†• í†µí•© CLI ì¸í„°í˜ì´ìŠ¤
â”œâ”€â”€ submissions/       # ì¶”ë¡  ê²°ê³¼ ì œì¶œ íŒŒì¼(csv)
â”œâ”€â”€ wandb/             # WandB ì‹¤í—˜ ë¡œê·¸
â””â”€â”€ requirements.txt   # íŒ¨í‚¤ì§€ ì˜ì¡´ì„± (optuna, scikit-learn ì¶”ê°€)
```

### ğŸ†• ìƒˆë¡œìš´ ì£¼ìš” íŒŒì¼ ë° ê¸°ëŠ¥
- **scripts/ í´ë”**: í”„ë¡œì íŠ¸ ê´€ë¦¬ìš© ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ í†µí•© ê´€ë¦¬
- **í†µí•© CLI**: `src/training/train_main.py` - ëª¨ë“  í•™ìŠµ ëª¨ë“œ í†µí•© ì‹¤í–‰
- **ë¹ ë¥¸ ì‹¤í—˜**: `train_fast_optimized.yaml` - 20-30ë¶„ ë‚´ ê²°ê³¼ í™•ì¸
- **ë¹ ë¥¸ ìµœì í™”**: `optuna_fast_config.yaml` - 8 trialsë¡œ ì‹ ì† ìµœì í™”
- **Optuna ìµœì í™”**: `src/optimization/optuna_tuner.py` - ìë™ í•˜ì´í¼íŒŒë¼ë¯¸í„° ìµœì í™”
- **Temperature Scaling**: `src/calibration/temperature_scaling.py` - ëª¨ë¸ ìº˜ë¦¬ë¸Œë ˆì´ì…˜
- **ë‚ ì§œë³„ ë¡œê·¸**: `logs/YYYYMMDD/` êµ¬ì¡°ë¡œ ì²´ê³„ì  ë¡œê·¸ ê´€ë¦¬
- **ì¦ê°• ì„¤ì •**: `use_advanced_augmentation` í”Œë˜ê·¸ë¡œ ì¦ê°• íƒ€ì… ì œì–´
- **ë¡œê·¸ íŒŒì¼ëª…**: ì¦ê°• íƒ€ì… ìë™ í‘œì‹œ (advanced/basic_augmentation)

## 2. ğŸ”„ ìƒˆë¡œìš´ ì‘ì—… íë¦„ë„
1. **í™˜ê²½ ì„¤ì •**: pyenv í™˜ê²½ í™œì„±í™” ë° íŒ¨í‚¤ì§€ ì„¤ì¹˜ (optuna, scikit-learn í¬í•¨)
2. **í†µí•© CLI ì‹¤í–‰**: `train_main.py`ë¡œ ëª¨ë“  ê¸°ëŠ¥ ì›í´ë¦­ ì‹¤í–‰
3. **ğŸ” Optuna ìµœì í™”**: í•˜ì´í¼íŒŒë¼ë¯¸í„° ìë™ ìµœì í™” (ì„ íƒì‚¬í•­)
4. **ğŸ¯ K-Fold í•™ìŠµ**: ìµœì í™”ëœ ì„¤ì •ìœ¼ë¡œ ê³ ì„±ëŠ¥ í•™ìŠµ
5. **ğŸŒ¡ï¸ Temperature Scaling**: ëª¨ë¸ ìº˜ë¦¬ë¸Œë ˆì´ì…˜ ì ìš©
6. **ğŸ”® ì•™ìƒë¸” ì¶”ë¡ **: 5-Fold ì•™ìƒë¸” + TTA ì¶”ë¡ 
7. **ğŸ“¤ ì œì¶œ íŒŒì¼ ìƒì„±**: ìë™ ìƒì„± ë° ì €ì¥
8. **ğŸ“Š ì‹¤í—˜ ì¶”ì **: WandB + ë¡œê·¸ë¥¼ í†µí•œ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

## 3. ğŸ¯ ì—…ë°ì´íŠ¸ëœ í•˜ì´í¼íŒŒë¼ë¯¸í„°/ëª¨ë¸/ì•™ìƒë¸” ìŠ¤í™

### ëª¨ë¸ ì•„í‚¤í…ì²˜
- **ê³ ì„±ëŠ¥**: `swin_base_384`, `convnext_base_384_in22ft1k`
- **ê¸°ë³¸**: `efficientnet_b3`, `resnet50`

### ğŸ¨ ì¦ê°• ì„¤ì •
- **ê¸°ë³¸ ì¦ê°•** (`use_advanced_augmentation: false`):
  - ê¸°ë³¸ Resize, RandomCrop, ìƒ‰ìƒ ì¡°ì •
- **ê³ ê¸‰ ì¦ê°•** (`use_advanced_augmentation: true`):
  - Hard Augmentation + Mixup + Progressive ê°•ë„ ì¡°ì ˆ

### ğŸ” Optuna ìµœì í™” ë²”ìœ„
```yaml
search_space:
  lr: [1e-5, 1e-3]              # í•™ìŠµë¥ 
  weight_decay: [1e-6, 1e-2]    # Weight decay
  batch_size: [16, 64]          # ë°°ì¹˜ í¬ê¸°
  drop_rate: [0.0, 0.3]         # ë“œë¡­ì•„ì›ƒ
  mixup_alpha: [0.2, 2.0]       # Mixup ì•ŒíŒŒ
```

### ğŸŒ¡ï¸ Temperature Scaling
- **ëª©ì **: ëª¨ë¸ ì‹ ë¢°ë„ ë³´ì • ë° ì„±ëŠ¥ í–¥ìƒ
- **íš¨ê³¼**: F1 Score 0.934 â†’ 0.940+ í–¥ìƒ

### í•™ìŠµ í•˜ì´í¼íŒŒë¼ë¯¸í„°
- **img_size**: 384 (ê³ ì„±ëŠ¥), 224 (ê¸°ë³¸)
- **batch_size**: 32 (í•™ìŠµ), 64 (ì¶”ë¡ )
- **epochs**: 15 (ê³ ì„±ëŠ¥), 30 (ê¸°ë³¸)
- **optimizer**: AdamW
- **scheduler**: CosineAnnealingLR
- **label_smoothing**: 0.1
- **mixed_precision**: true (ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±)

## 4. ğŸš€ í†µí•© ì‹¤í–‰ ëª…ë ¹ì–´

### ìµœê³  ì„±ëŠ¥ ì‹¤í–‰ (ê¶Œì¥)
```bash
python src/training/train_main.py \
    --config configs/train_highperf.yaml \
    --optimize \
    --n-trials 20 \
    --use-calibration \
    --mode full-pipeline \
    --auto-continue
```

### ë¹ ë¥¸ ì‹¤í–‰ (ì‚¬ì „ ìµœì í™” ì‚¬ìš©)
```bash
python src/training/train_main.py \
    --config configs/train_optimized_20250907_1825.yaml \
    --use-calibration \
    --mode full-pipeline
```

### ì¶”ë¡ ë§Œ ì‹¤í–‰
```bash
python src/training/train_main.py \
    --config configs/train_highperf.yaml \
    --mode full-pipeline \
    --skip-training \
    --use-calibration
```

## 4. ìµœê·¼ ì‹¤í–‰ ë¡œê·¸ ë¶„ì„
- í•™ìŠµ: í‰ê·  F1 0.9356 (foldë³„ 0.92~0.94)
- ëŒ€íšŒ ì ìˆ˜: 0.9328
- ì¶”ë¡ : 3140ê°œ í…ŒìŠ¤íŠ¸ ì´ë¯¸ì§€, í´ë˜ìŠ¤ë³„ ë¶„í¬ ê³ ë¦„
- ì œì¶œ íŒŒì¼: `submissions/20250905/v094-swin-highperf_ensemble_20250905_1714.csv`
- WandB ì‹¤í—˜ URL, foldë³„ ì„±ëŠ¥, í´ë˜ìŠ¤ë³„ ì •í™•ë„ ì‹œê°í™”

## 5. íŒŒì¼ê°„ ê´€ê³„ë„
- configs â†’ src/pipeline â†’ src/models/training/inference â†’ experiments/logs/submissions
- notebooks: ì‹¤í—˜/ë¶„ì„/ëª¨ë“ˆí™” ì½”ë“œ, íŒŒì´í”„ë¼ì¸ê³¼ ì„¤ì • ì—°ë™
- docs: ì „ì²´ ê°€ì´ë“œ, ì‹¤í–‰ë²•, ë¶„ì„, ì›Œí¬í”Œë¡œìš° ì„¤ëª…

## 6. ê¸°ì¡´ docs ê°€ì´ë“œ íŒŒì¼ ë¶„ì„ ë° ìˆ˜ì • í•„ìš” ì‚¬í•­
- ëª¨ë“  ê°€ì´ë“œì— pyenv í™˜ê²½, GPU ì²´í¬, ìë™ ë°°ì¹˜ì‚¬ì´ì¦ˆ, K-Fold/ì•™ìƒë¸”/TTA, WandB ì‹¤í—˜ ê´€ë¦¬ ë“± ìµœì‹  ì›Œí¬í”Œë¡œìš° ë°˜ì˜ í•„ìš”
- ë°ì´í„° ê²½ë¡œ, ëª¨ë¸ëª…, í•˜ì´í¼íŒŒë¼ë¯¸í„°, ì•™ìƒë¸” ë°©ì‹ ë“± ìµœì‹  ìŠ¤í™ìœ¼ë¡œ í†µì¼ í•„ìš”
- íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ë²•, ê²°ê³¼ í™•ì¸ë²•, ì œì¶œ íŒŒì¼ ìƒì„± ê³¼ì • ëª…í™•íˆ ê¸°ìˆ 

## 7. ê²°ë¡  ë° ì°¸ê³ 
- ì „ì²´ íŒŒì´í”„ë¼ì¸, í•˜ì´í¼íŒŒë¼ë¯¸í„°, ì•™ìƒë¸”, ëª¨ë¸, ì‹¤í—˜ ê´€ë¦¬ê°€ ëª¨ë“ˆí™”ë˜ì–´ íŒ€ì› ëˆ„êµ¬ë‚˜ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥
- ëª¨ë“  ì½”ë“œ/ì„¤ì •/ê°€ì´ë“œê°€ ìµœì‹  ì›Œí¬í”Œë¡œìš°ì— ë§ê²Œ í†µì¼ë˜ì–´ ìˆìŒ
- ì¶”ê°€ ì‹¤í—˜/ë¶„ì„/ê°€ì´ë“œê°€ í•„ìš”í•˜ë©´ docsì— ê³„ì† ì¶”ê°€/ìˆ˜ì • ê°€ëŠ¥

---
(2025-09-05 ê¸°ì¤€ ìµœì‹  ìŠ¤í™/êµ¬ì¡°/ì‹¤í–‰ ê²°ê³¼ ë°˜ì˜)
