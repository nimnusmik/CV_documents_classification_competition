# ðŸš€ ì‹¤í–‰ ëª…ë ¹ì–´ ì™„ì „ ê°€ì´ë“œ

## ðŸ“‹ ëª©ì°¨
1. [í™˜ê²½ ì„¤ì •](#í™˜ê²½-ì„¤ì •)
2. [ê¸°ë³¸ ì‹¤í–‰ ëª…ë ¹ì–´](#ê¸°ë³¸-ì‹¤í–‰-ëª…ë ¹ì–´)
3. [í•™ìŠµ íŒŒì´í”„ë¼ì¸](#í•™ìŠµ-íŒŒì´í”„ë¼ì¸)
4. [ì¶”ë¡  íŒŒì´í”„ë¼ì¸](#ì¶”ë¡ -íŒŒì´í”„ë¼ì¸)
5. [ì „ì²´ íŒŒì´í”„ë¼ì¸](#ì „ì²´-íŒŒì´í”„ë¼ì¸)
6. [ë‹¨ìœ„ í…ŒìŠ¤íŠ¸](#ë‹¨ìœ„-í…ŒìŠ¤íŠ¸)
7. [ë¡œê·¸ ë° ê²°ê³¼ í™•ì¸](#ë¡œê·¸-ë°-ê²°ê³¼-í™•ì¸)
8. [ê³ ê¸‰ ì‚¬ìš©ë²•](#ê³ ê¸‰-ì‚¬ìš©ë²•)
9. [ë¬¸ì œ í•´ê²°](#ë¬¸ì œ-í•´ê²°)

---

## ðŸ”§ í™˜ê²½ ì„¤ì •

### **1. ê¸°ë³¸ í™˜ê²½ í™•ì¸**
```bash
# í˜„ìž¬ ë””ë ‰í† ë¦¬ í™•ì¸
pwd
# ì¶œë ¥: /home/ieyeppo/AI_Lab/computer-vision-competition-1SEN

# Python í™˜ê²½ í™•ì¸
python3 --version
# ì¶œë ¥: Python 3.11.9

# ê°€ìƒí™˜ê²½ í™œì„±í™” ìƒíƒœ í™•ì¸
echo $CONDA_DEFAULT_ENV
# ì¶œë ¥: cv_py3_11_9
```

### **2. ì˜ì¡´ì„± ì„¤ì¹˜**
```bash
# í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜
pip install -r requirements.txt

# ì„¤ì¹˜ í™•ì¸
pip list | grep -E "torch|pandas|numpy|matplotlib"

# í•µì‹¬ ëª¨ë“ˆ import í…ŒìŠ¤íŠ¸
python3 -c "
import torch, pandas, numpy, matplotlib
from src.utils.common import load_yaml
from src.data.dataset import HighPerfDocClsDataset
print('âœ… ëª¨ë“  ì˜ì¡´ì„± ì •ìƒ ì„¤ì¹˜ë¨')
"
```

### **3. GPU í™˜ê²½ í™•ì¸**
```bash
# CUDA ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
python3 -c "import torch; print(f'CUDA available: {torch.cuda.is_available()}')"

# GPU ì •ë³´ í™•ì¸
nvidia-smi

# PyTorch CUDA ë²„ì „ í™•ì¸
python3 -c "import torch; print(f'PyTorch version: {torch.__version__}')"
```

---

## ðŸƒ ê¸°ë³¸ ì‹¤í–‰ ëª…ë ¹ì–´

### **í”„ë¡œì íŠ¸ êµ¬ì¡° í™•ì¸**
```bash
# ì „ì²´ êµ¬ì¡° í™•ì¸
tree -L 3 -I '__pycache__'

# ì£¼ìš” ë””ë ‰í† ë¦¬ í™•ì¸
ls -la src/
ls -la configs/
ls -la data/raw/
ls -la notebooks/
```

### **ì„¤ì • íŒŒì¼ ê²€ì¦**
```bash
# YAML íŒŒì¼ ìœ íš¨ì„± í™•ì¸
python3 -c "
import yaml
configs = ['configs/train.yaml', 'configs/train_highperf.yaml', 'configs/infer.yaml']
for config in configs:
    try:
        with open(config) as f:
            yaml.safe_load(f)
        print(f'âœ… {config}')
    except Exception as e:
        print(f'âŒ {config}: {e}')
"
```

---

## ðŸŽ“ í•™ìŠµ íŒŒì´í”„ë¼ì¸

### **ì‚¬ì „ ì¤€ë¹„ (í•„ìˆ˜ ë‹¨ê³„)**
```bash
# 1. pyenv ê°€ìƒí™˜ê²½ í™œì„±í™”
pyenv activate cv_py3_11_9

# 2. GPU í˜¸í™˜ì„± ë¹ ë¥¸ ì²´í¬
python src/utils/team_gpu_check.py

# 3. ìžë™ ë°°ì¹˜ í¬ê¸° ìµœì í™”
python src/utils/auto_batch_size.py --config configs/train.yaml
```

### **1. ê¸°ë³¸ í•™ìŠµ**

#### **ë‹¨ì¼ Fold í•™ìŠµ**
```bash
# ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ í•™ìŠµ
python src/training/train_main.py

# íŠ¹ì • ì„¤ì • íŒŒì¼ ì‚¬ìš©
python src/training/train_main.py --config configs/train.yaml

# íŠ¹ì • fold í•™ìŠµ
python src/training/train_main.py --fold 0

# GPU ì§€ì •í•˜ì—¬ í•™ìŠµ
CUDA_VISIBLE_DEVICES=0 python src/training/train_main.py --fold 0
```

#### **ì‹¤í–‰ ì˜ˆì‹œ**
```bash
# ì™„ì „í•œ ì‹¤í–‰ ìˆœì„œ
pyenv activate cv_py3_11_9
python src/utils/team_gpu_check.py
python src/utils/auto_batch_size.py --config configs/train.yaml

# Fold 0 í•™ìŠµ (ê¸°ë³¸ ì„¤ì •)
python src/training/train_main.py --fold 0

# ì¶œë ¥ ì˜ˆì‹œ:
# ðŸ“‹ í•™ìŠµ ì„¤ì • ë¡œë“œ ì™„ë£Œ
# ðŸŽ¯ ëª¨ë¸: efficientnet_b3
# ðŸ“ ì´ë¯¸ì§€ í¬ê¸°: 224
# ðŸ”¢ ë°°ì¹˜ í¬ê¸°: 16
# ðŸ“Š í•™ìŠµ ë°ì´í„°: 1,256ê°œ ìƒ˜í”Œ
# ðŸ“Š ê²€ì¦ ë°ì´í„°: 315ê°œ ìƒ˜í”Œ
# [1/30] Train Loss: 2.134, Val Loss: 1.876, Val F1: 0.456
# ...
```

### **2. ê³ ì„±ëŠ¥ í•™ìŠµ (ê¶Œìž¥)**

#### **ì‚¬ì „ ì¤€ë¹„ (ê³ ì„±ëŠ¥ ëª¨ë“œìš©)**
```bash
# ê³ ì„±ëŠ¥ ì„¤ì • ìµœì í™”
pyenv activate cv_py3_11_9
python src/utils/team_gpu_check.py
python src/utils/auto_batch_size.py --config configs/train_highperf.yaml
```

#### **ì „ì²´ K-Fold í•™ìŠµ**
```bash
# ê³ ì„±ëŠ¥ ëª¨ë“œ (5-fold ì „ì²´)
python src/training/train_main.py --config configs/train_highperf.yaml --mode highperf

# ê³ ì„±ëŠ¥ ì„¤ì • íŒŒì¼ ì§€ì •
python src/training/train_main.py --config configs/train_highperf.yaml --mode highperf

# ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰ (ìž¥ì‹œê°„ í•™ìŠµ)
nohup python src/training/train_main.py --config configs/train_highperf.yaml --mode highperf > training.log 2>&1 &

# ì‹¤í–‰ ìƒíƒœ í™•ì¸
tail -f training.log
```

#### **ì™„ì „í•œ ì‹¤í–‰ ì‹œí€€ìŠ¤ (ê¶Œìž¥)**
```bash
# 1-4. ì‚¬ì „ ì¤€ë¹„
pyenv activate cv_py3_11_9
python src/utils/team_gpu_check.py
python src/utils/auto_batch_size.py --config configs/train_highperf.yaml

# 5. ê³ ì„±ëŠ¥ í•™ìŠµ ì‹œìž‘
python src/training/train_main.py --config configs/train_highperf.yaml --mode highperf
```

#### **íŠ¹ì • Foldë“¤ë§Œ í•™ìŠµ**
```bash
# Fold 0, 1, 2ë§Œ í•™ìŠµ (ë§¤ê°œë³€ìˆ˜ ì§€ì› ì‹œ)
python src/training/train_main.py --config configs/train_highperf.yaml --mode highperf

# ë‹¨ì¼ Fold ê³ ì„±ëŠ¥ ëª¨ë“œ (ë§¤ê°œë³€ìˆ˜ ì§€ì› ì‹œ)  
python src/training/train_main.py --config configs/train_highperf.yaml --mode highperf
```

#### **WandB í†µí•© í•™ìŠµ**
```bash
# WandB ë¡œê·¸ì¸ (ìµœì´ˆ 1íšŒ)
wandb login

# WandB í†µí•© í•™ìŠµ (ì˜¬ë°”ë¥¸ ë°©ë²•) - WandBëŠ” ì„¤ì •íŒŒì¼ì—ì„œ ì œì–´
python src/training/train_main.py --config configs/train_highperf.yaml --mode highperf

# íŠ¹ì • í”„ë¡œì íŠ¸ëª… ì§€ì •
WANDB_PROJECT="cv-competition-1sen" python src/training/train_main.py --config configs/train_highperf.yaml --mode highperf
```

### **3. í•™ìŠµ ëª¨ë‹ˆí„°ë§**

#### **ì‹¤ì‹œê°„ ë¡œê·¸ í™•ì¸**
```bash
# ìµœì‹  í•™ìŠµ ë¡œê·¸ í™•ì¸
ls -t logs/train/ | head -1 | xargs -I {} tail -f logs/train/{}

# íŠ¹ì • ë¡œê·¸ íŒŒì¼ í™•ì¸
tail -f logs/train/train_20250905-1400_v087-abc123.log

# í•™ìŠµ ì§„í–‰ë¥  í™•ì¸ (ì—í¬í¬ë³„)
grep "Epoch" logs/train/train_*.log | tail -10
```

#### **í•™ìŠµ ì¤‘ë‹¨ ë° ìž¬ì‹œìž‘**
```bash
# í•™ìŠµ ì¤‘ë‹¨
pkill -f "python src/training/train_main.py"

# ì²´í¬í¬ì¸íŠ¸ì—ì„œ ìž¬ì‹œìž‘ (êµ¬í˜„ í•„ìš”ì‹œ)
python src/training/train_main.py --config configs/train_highperf.yaml --mode highperf --resume experiments/train/20250905/fold_0/checkpoint.pth
```

---

## ðŸ”® ì¶”ë¡  íŒŒì´í”„ë¼ì¸

### **1. ê¸°ë³¸ ì¶”ë¡ **

#### **ë‹¨ì¼ ëª¨ë¸ ì¶”ë¡ **
```bash
# ê¸°ë³¸ ì¶”ë¡ 
python src/inference/infer_main.py

# ì„¤ì • íŒŒì¼ ì§€ì •
python src/inference/infer_main.py --config configs/infer.yaml

# íŠ¹ì • ëª¨ë¸ íŒŒì¼ ì‚¬ìš©
python src/inference/infer_main.py --model-path experiments/train/20250905/fold_0/best_model.pth

# GPU ì§€ì •
CUDA_VISIBLE_DEVICES=0 python src/inference/infer_main.py
```

### **2. ê³ ì„±ëŠ¥ ì¶”ë¡  (Fold ì•™ìƒë¸”)**

#### **Fold ê²°ê³¼ ì•™ìƒë¸”**
```bash
# ê³ ì„±ëŠ¥ ì¶”ë¡  (ëª¨ë“  fold ì•™ìƒë¸”)
python src/inference/infer_main.py --mode highperf --fold-results experiments/train/20250905/fold_results

# íŠ¹ì • foldë“¤ë§Œ ì•™ìƒë¸”
python src/inference/infer_main.py --mode highperf --fold-results experiments/train/20250905/fold_results --folds 0,1,2,3,4

# ì•™ìƒë¸” ë°©ë²• ì§€ì •
python src/inference/infer_main.py --mode highperf --fold-results experiments/train/20250905/fold_results --ensemble-method mean
```

#### **ì‹¤í–‰ ì˜ˆì‹œ**
```bash
# ë‚ ì§œë³„ ì‹¤í—˜ ê²°ê³¼ í™•ì¸
ls -la experiments/train/

# ìµœì‹  ì‹¤í—˜ì˜ fold ê²°ê³¼ ì‚¬ìš©
LATEST_EXP=$(ls -t experiments/train/ | head -1)
python src/inference/infer_main.py --mode highperf --fold-results experiments/train/$LATEST_EXP/fold_results

# ì¶œë ¥ ì˜ˆì‹œ:
# ðŸ“‹ ì¶”ë¡  ì„¤ì • ë¡œë“œ ì™„ë£Œ
# ðŸŽ¯ ëª¨ë¸: swin_base_patch4_window7_224
# ðŸ“ Fold ê²°ê³¼ ë””ë ‰í† ë¦¬: experiments/train/20250905/fold_results
# ðŸ” ë°œê²¬ëœ fold ëª¨ë¸: [0, 1, 2, 3, 4]
# ðŸ“Š í…ŒìŠ¤íŠ¸ ë°ì´í„°: 3,141ê°œ ìƒ˜í”Œ
# [1/5] Fold 0 ì¶”ë¡  ì™„ë£Œ
# ...
# ðŸŽ¯ ì•™ìƒë¸” ì¶”ë¡  ì™„ë£Œ
# ðŸ’¾ ì œì¶œ íŒŒì¼ ì €ìž¥: submissions/20250905/submission.csv
```

### **3. ì¶”ë¡  ê²°ê³¼ í™•ì¸**

#### **ì œì¶œ íŒŒì¼ ê²€ì¦**
```bash
# ìµœì‹  ì œì¶œ íŒŒì¼ í™•ì¸
ls -la submissions/$(ls -t submissions/ | head -1)/

# ì œì¶œ íŒŒì¼ í˜•ì‹ í™•ì¸
head -10 submissions/$(ls -t submissions/ | head -1)/*.csv

# ì œì¶œ íŒŒì¼ í†µê³„
python3 -c "
import pandas as pd
import glob
latest_sub = sorted(glob.glob('submissions/*/submission.csv'))[-1]
df = pd.read_csv(latest_sub)
print(f'ì œì¶œ íŒŒì¼: {latest_sub}')
print(f'ìƒ˜í”Œ ìˆ˜: {len(df)}')
print(f'í´ëž˜ìŠ¤ ë¶„í¬: {df.iloc[:, 1].value_counts().head()}')
"
```

---

## ðŸ”„ ì „ì²´ íŒŒì´í”„ë¼ì¸

### **ì‚¬ì „ ì¤€ë¹„ (ì „ì²´ íŒŒì´í”„ë¼ì¸ìš©)**
```bash
# pyenv ê°€ìƒí™˜ê²½ í™œì„±í™”
pyenv activate cv_py3_11_9

# GPU í˜¸í™˜ì„± ì²´í¬
python src/utils/team_gpu_check.py

# í•™ìŠµìš© ë°°ì¹˜ í¬ê¸° ìµœì í™”
python src/utils/auto_batch_size.py --config configs/train_highperf.yaml

# ì¶”ë¡ ìš© ë°°ì¹˜ í¬ê¸° ìµœì í™” (ì˜µì…˜)
python src/utils/auto_batch_size.py --config configs/infer.yaml --test-only
```

### **1. ì™„ì „ ìžë™í™” íŒŒì´í”„ë¼ì¸**
```bash
# í•™ìŠµ + ì¶”ë¡  ì „ì²´ íŒŒì´í”„ë¼ì¸
python src/pipeline/full_pipeline.py

# ì„¤ì • íŒŒì¼ ì§€ì •
python src/pipeline/full_pipeline.py --train-config configs/train_highperf.yaml --infer-config configs/infer.yaml

# ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰
nohup python src/pipeline/full_pipeline.py > full_pipeline.log 2>&1 &
```

### **2. ë‹¨ê³„ë³„ ì‹¤í–‰**
```bash
# ì‚¬ì „ ì¤€ë¹„
pyenv activate cv_py3_11_9
python src/utils/team_gpu_check.py
python src/utils/auto_batch_size.py --config configs/train_highperf.yaml

# 1ë‹¨ê³„: ê³ ì„±ëŠ¥ í•™ìŠµ
echo "ðŸŽ“ 1ë‹¨ê³„: í•™ìŠµ ì‹œìž‘..."
python src/training/train_main.py --config configs/train_highperf.yaml --mode highperf

# 2ë‹¨ê³„: ê²°ê³¼ í™•ì¸
echo "ðŸ“Š 2ë‹¨ê³„: í•™ìŠµ ê²°ê³¼ í™•ì¸..."
ls -la experiments/train/$(ls -t experiments/train/ | head -1)/fold_results/

# 3ë‹¨ê³„: ì•™ìƒë¸” ì¶”ë¡ 
echo "ðŸ”® 3ë‹¨ê³„: ì•™ìƒë¸” ì¶”ë¡  ì‹œìž‘..."
LATEST_EXP=$(ls -t experiments/train/ | head -1)
python src/inference/infer_main.py --mode highperf --fold-results experiments/train/$LATEST_EXP/fold_results

# 4ë‹¨ê³„: ê²°ê³¼ ê²€ì¦
echo "âœ… 4ë‹¨ê³„: ìµœì¢… ê²°ê³¼ í™•ì¸..."
ls -la submissions/$(ls -t submissions/ | head -1)/
```

---

## ðŸ§ª ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

### **1. Jupyter ë…¸íŠ¸ë¶ ì‹¤í–‰**

#### **ë…¸íŠ¸ë¶ ì„œë²„ ì‹œìž‘**
```bash
# Jupyter Notebook ì‹œìž‘
jupyter notebook --port=8888 --no-browser

# JupyterLab ì‹œìž‘ (ê¶Œìž¥)
jupyter lab --port=8888 --no-browser

# ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰
nohup jupyter lab --port=8888 --no-browser > jupyter.log 2>&1 &
```

#### **ê°œë³„ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ë…¸íŠ¸ë¶**
```bash
# 1. ê³ ì„±ëŠ¥ ë°ì´í„°ì…‹ í…ŒìŠ¤íŠ¸
# notebooks/unit_tests/test_highperf_dataset.ipynb

# 2. Mixup ì¦ê°• í…ŒìŠ¤íŠ¸  
# notebooks/unit_tests/test_mixup_augmentation.ipynb

# 3. Swin ëª¨ë¸ í…ŒìŠ¤íŠ¸
# notebooks/unit_tests/test_swin_model.ipynb

# 4. ë¡œê¹… í†µí•© í…ŒìŠ¤íŠ¸ (ì˜ˆì‹œ)
# notebooks/test_highperf_dataset_with_logging.ipynb
```

### **2. í†µí•© í…ŒìŠ¤íŠ¸ ë…¸íŠ¸ë¶**

#### **ì „ì²´ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸**
```bash
# ì „ì²´ íŒŒì´í”„ë¼ì¸ ê²€ì¦
# notebooks/test_full_pipeline.ipynb

# WandB í†µí•© í…ŒìŠ¤íŠ¸
# notebooks/test_wandb_integration.ipynb
```

### **3. ëª…ë ¹ì¤„ì—ì„œ ë…¸íŠ¸ë¶ ì‹¤í–‰**
```bash
# nbconvertë¡œ ë…¸íŠ¸ë¶ ì‹¤í–‰ (ì„ íƒì )
jupyter nbconvert --to notebook --execute notebooks/unit_tests/test_highperf_dataset.ipynb

# ê²°ê³¼ HTMLë¡œ ë³€í™˜
jupyter nbconvert --to html notebooks/unit_tests/test_highperf_dataset.ipynb
```

---

## ðŸ“Š ë¡œê·¸ ë° ê²°ê³¼ í™•ì¸

### **1. í•™ìŠµ ë¡œê·¸ ë¶„ì„**

#### **ê¸°ë³¸ ë¡œê·¸ í™•ì¸**
```bash
# ìµœì‹  í•™ìŠµ ë¡œê·¸ í™•ì¸
ls -t logs/train/ | head -5

# íŠ¹ì • ë¡œê·¸ ë‚´ìš© í™•ì¸
cat logs/train/train_20250905-1400_v087-abc123.log

# ì—ëŸ¬ ë¡œê·¸ë§Œ í™•ì¸
grep -i "error\|fail" logs/train/train_*.log

# ì„±ëŠ¥ ì§€í‘œ ì¶”ì¶œ
grep "Val F1\|Best F1" logs/train/train_*.log | tail -10
```

#### **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**
```bash
# ì‹¤ì‹œê°„ ë¡œê·¸ ìŠ¤íŠ¸ë¦¼
tail -f logs/train/train_*.log

# íŠ¹ì • íŒ¨í„´ ëª¨ë‹ˆí„°ë§
tail -f logs/train/train_*.log | grep --line-buffered "Epoch\|F1"

# ë‹¤ì¤‘ ë¡œê·¸ ëª¨ë‹ˆí„°ë§
multitail logs/train/train_*.log logs/infer/infer_*.log
```

### **2. ì¶”ë¡  ë¡œê·¸ ë¶„ì„**

#### **ì¶”ë¡  ê²°ê³¼ í™•ì¸**
```bash
# ìµœì‹  ì¶”ë¡  ë¡œê·¸
ls -t logs/infer/ | head -3

# ì¶”ë¡  ì„±ëŠ¥ í™•ì¸
grep "Inference completed\|Processing time" logs/infer/infer_*.log

# ì•™ìƒë¸” ê²°ê³¼ í™•ì¸
grep "Ensemble\|Average" logs/infer/infer_*.log
```

### **3. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ë¡œê·¸ (ë¡œê¹… ì‹œìŠ¤í…œ ì‚¬ìš©ì‹œ)**

#### **ë¡œê¹… ì‹œìŠ¤í…œ ê²°ê³¼ í™•ì¸**
```bash
# ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ë¡œê·¸ ë””ë ‰í† ë¦¬
ls -la logs/unit_test/

# íŠ¹ì • í…ŒìŠ¤íŠ¸ ê²°ê³¼ í™•ì¸
TEST_NAME="highperf_dataset"
LATEST_RUN=$(ls -t logs/unit_test/$TEST_NAME/ | head -1)
ls -la logs/unit_test/$TEST_NAME/$LATEST_RUN/

# í…ŒìŠ¤íŠ¸ ìš”ì•½ JSON í™•ì¸
cat logs/unit_test/$TEST_NAME/$LATEST_RUN/test_summary.json | jq

# ì €ìž¥ëœ ì´ë¯¸ì§€ í™•ì¸
ls logs/unit_test/$TEST_NAME/$LATEST_RUN/images/

# ì²˜ë¦¬ëœ ë°ì´í„° í™•ì¸
ls logs/unit_test/$TEST_NAME/$LATEST_RUN/data/
```

### **4. ì‹¤í—˜ ê²°ê³¼ ê´€ë¦¬**

#### **ì‹¤í—˜ ë””ë ‰í† ë¦¬ êµ¬ì¡°**
```bash
# ì‹¤í—˜ ê²°ê³¼ í™•ì¸
tree experiments/ -L 3

# íŠ¹ì • ë‚ ì§œ ì‹¤í—˜ í™•ì¸
ls -la experiments/train/20250905/

# Foldë³„ ê²°ê³¼ í™•ì¸
ls -la experiments/train/20250905/fold_results/

# ëª¨ë¸ íŒŒì¼ í™•ì¸
find experiments/ -name "*.pth" -type f | head -10
```

#### **ì œì¶œ íŒŒì¼ ê´€ë¦¬**
```bash
# ì œì¶œ íŒŒì¼ ížˆìŠ¤í† ë¦¬
ls -la submissions/

# ìµœì‹  ì œì¶œ íŒŒì¼ ë¶„ì„
python3 -c "
import pandas as pd
import glob
import os

# ìµœì‹  ì œì¶œ íŒŒì¼ ì°¾ê¸°
submission_files = glob.glob('submissions/*/submission.csv')
if submission_files:
    latest = max(submission_files, key=os.path.getctime)
    df = pd.read_csv(latest)
    print(f'ìµœì‹  ì œì¶œ íŒŒì¼: {latest}')
    print(f'ìƒì„± ì‹œê°„: {pd.Timestamp.fromtimestamp(os.path.getctime(latest))}')
    print(f'íŒŒì¼ í¬ê¸°: {len(df)} í–‰')
    print(f'í´ëž˜ìŠ¤ ë¶„í¬:')
    print(df.iloc[:, 1].value_counts().head())
else:
    print('ì œì¶œ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.')
"
```

---

## ðŸŽ›ï¸ ê³ ê¸‰ ì‚¬ìš©ë²•

### **1. í™˜ê²½ ë³€ìˆ˜ í™œìš©**

#### **GPU ê´€ë¦¬**
```bash
# íŠ¹ì • GPU ì‚¬ìš©
export CUDA_VISIBLE_DEVICES=0
python src/training/train_main.py --config configs/train_highperf.yaml --mode highperf

# ë©€í‹° GPU ì‚¬ìš©
export CUDA_VISIBLE_DEVICES=0,1
python src/training/train_main.py --config configs/train_highperf.yaml --mode highperf

# GPU ë©”ëª¨ë¦¬ ì œí•œ
export PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:512
python src/training/train_main.py --config configs/train_highperf.yaml --mode highperf
```

#### **WandB ì„¤ì •**
```bash
# WandB í”„ë¡œì íŠ¸ ì„¤ì •
export WANDB_PROJECT="cv-competition-1sen"
export WANDB_ENTITY="your-team-name"

# WandB ì‹¤í–‰ ì´ë¦„ ì„¤ì •
export WANDB_RUN_NAME="highperf-swin-fold-all"
python src/training/train_main.py --config configs/train_highperf.yaml --mode highperf
```

#### **ë¡œê¹… ë ˆë²¨ ì„¤ì •**
```bash
# ë””ë²„ê·¸ ëª¨ë“œ
export LOG_LEVEL=DEBUG
python src/training/train_main.py --config configs/train_highperf.yaml --mode highperf

# ì¡°ìš©í•œ ëª¨ë“œ
export LOG_LEVEL=WARNING
python src/training/train_main.py --config configs/train_highperf.yaml --mode highperf
```

### **2. ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸**

#### **ì „ì²´ ì‹¤í—˜ ìžë™í™”**
```bash
#!/bin/bash
# run_full_experiment.sh

set -e  # ì—ëŸ¬ì‹œ ì¤‘ë‹¨

echo "ðŸš€ ì „ì²´ ì‹¤í—˜ ì‹œìž‘: $(date)"

# 1. í™˜ê²½ í™•ì¸
echo "ðŸ“‹ í™˜ê²½ í™•ì¸..."
python3 -c "from src.utils.common import load_yaml; print('âœ… í™˜ê²½ ì¤€ë¹„ ì™„ë£Œ')"

# 2. í•™ìŠµ ì‹¤í–‰
echo "ðŸŽ“ í•™ìŠµ ì‹œìž‘..."
python src/training/train_main.py --config configs/train_highperf.yaml --mode highperf

# 3. ìµœì‹  ì‹¤í—˜ ê²°ê³¼ ì°¾ê¸°
LATEST_EXP=$(ls -t experiments/train/ | head -1)
echo "ðŸ“ ìµœì‹  ì‹¤í—˜: $LATEST_EXP"

# 4. ì¶”ë¡  ì‹¤í–‰
echo "ðŸ”® ì¶”ë¡  ì‹œìž‘..."
python src/inference/infer_main.py --mode highperf --fold-results experiments/train/$LATEST_EXP/fold_results

# 5. ê²°ê³¼ í™•ì¸
echo "âœ… ì‹¤í—˜ ì™„ë£Œ: $(date)"
ls -la submissions/$(ls -t submissions/ | head -1)/

echo "ðŸŽ¯ ì‹¤í—˜ ìš”ì•½:"
echo "   í•™ìŠµ ê²°ê³¼: experiments/train/$LATEST_EXP/"
echo "   ì œì¶œ íŒŒì¼: submissions/$(ls -t submissions/ | head -1)/"
```

#### **ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰**
```bash
# ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
chmod +x run_full_experiment.sh

# ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰
nohup ./run_full_experiment.sh > experiment.log 2>&1 &

# ì§„í–‰ ìƒí™© ëª¨ë‹ˆí„°ë§
tail -f experiment.log
```

### **3. ì„±ëŠ¥ ìµœì í™”**

#### **ë©”ëª¨ë¦¬ ìµœì í™”**
```bash
# ë°°ì¹˜ í¬ê¸° ì¤„ì´ê¸°
sed -i 's/batch_size: 16/batch_size: 8/' configs/train_highperf.yaml

# ì´ë¯¸ì§€ í¬ê¸° ì¤„ì´ê¸°
sed -i 's/img_size: 384/img_size: 224/' configs/train_highperf.yaml

# ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
watch -n 1 nvidia-smi
```

#### **ì†ë„ ìµœì í™”**
```bash
# ë°ì´í„° ë¡œë” ì›Œì»¤ ìˆ˜ ì¦ê°€
export NUM_WORKERS=8
python src/training/train_main.py --config configs/train_highperf.yaml --mode highperf

# í˜¼í•© ì •ë°€ë„ í•™ìŠµ (êµ¬í˜„ì‹œ)
export USE_AMP=true
python src/training/train_main.py --config configs/train_highperf.yaml --mode highperf
```

---

## ðŸ”§ ë¬¸ì œ í•´ê²°

### **1. ì¼ë°˜ì ì¸ ë¬¸ì œ**

#### **Import ì—ëŸ¬**
```bash
# ë¬¸ì œ: ModuleNotFoundError
# í•´ê²°: Python ê²½ë¡œ í™•ì¸
echo $PYTHONPATH
export PYTHONPATH="${PYTHONPATH}:$(pwd)"

# ë˜ëŠ” sys.path ì¶”ê°€
python3 -c "import sys; sys.path.append('.'); from src.utils.common import load_yaml"
```

#### **CUDA ì—ëŸ¬**
```bash
# ë¬¸ì œ: CUDA out of memory
# í•´ê²°: ë°°ì¹˜ í¬ê¸° ì¤„ì´ê¸°
export BATCH_SIZE=4
python src/training/train_main.py --fold 0

# GPU ë©”ëª¨ë¦¬ ì •ë¦¬
python3 -c "import torch; torch.cuda.empty_cache()"
```

#### **íŒŒì¼ ê²½ë¡œ ì—ëŸ¬**
```bash
# ë¬¸ì œ: ë°ì´í„° íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ
# í•´ê²°: í˜„ìž¬ ë””ë ‰í† ë¦¬ í™•ì¸
pwd
ls -la data/raw/

# í”„ë¡œì íŠ¸ ë£¨íŠ¸ë¡œ ì´ë™
cd /home/ieyeppo/AI_Lab/computer-vision-competition-1SEN
```

### **2. ë¡œê·¸ ê¸°ë°˜ ë””ë²„ê¹…**

#### **ì—ëŸ¬ ë¡œê·¸ ë¶„ì„**
```bash
# ìµœê·¼ ì—ëŸ¬ ì°¾ê¸°
grep -r -i "error\|exception\|failed" logs/ | tail -10

# íŠ¹ì • ì—ëŸ¬ íŒ¨í„´ ì°¾ê¸°
grep -r "CUDA\|memory\|import" logs/ | tail -5

# ìŠ¤íƒíŠ¸ë ˆì´ìŠ¤ í™•ì¸
grep -A 10 -B 2 "Traceback" logs/train/train_*.log
```

#### **ì„±ëŠ¥ ì´ìŠˆ ë””ë²„ê¹…**
```bash
# í•™ìŠµ ì†ë„ í™•ì¸
grep "Epoch.*Time" logs/train/train_*.log | tail -5

# ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ í™•ì¸
grep -i "memory\|GPU" logs/train/train_*.log | tail -5

# ë°ì´í„° ë¡œë”© ì‹œê°„ í™•ì¸
grep -i "loading\|batch" logs/train/train_*.log | tail -5
```

### **3. ê²€ì¦ ëª…ë ¹ì–´**

#### **ì „ì²´ ì‹œìŠ¤í…œ ê²€ì¦**
```bash
# ì¢…í•© ê±´ê°•ë„ ê²€ì‚¬
python3 -c "
import sys
sys.path.append('.')

# 1. ëª¨ë“ˆ import í…ŒìŠ¤íŠ¸
try:
    from src.utils.common import load_yaml
    from src.data.dataset import HighPerfDocClsDataset
    from src.models.build import build_model
    print('âœ… ëª¨ë“  ëª¨ë“ˆ import ì„±ê³µ')
except Exception as e:
    print(f'âŒ ëª¨ë“ˆ import ì‹¤íŒ¨: {e}')
    sys.exit(1)

# 2. ì„¤ì • íŒŒì¼ í…ŒìŠ¤íŠ¸
try:
    cfg = load_yaml('configs/train_highperf.yaml')
    print('âœ… ì„¤ì • íŒŒì¼ ë¡œë“œ ì„±ê³µ')
except Exception as e:
    print(f'âŒ ì„¤ì • íŒŒì¼ ë¡œë“œ ì‹¤íŒ¨: {e}')
    sys.exit(1)

# 3. ë°ì´í„° íŒŒì¼ í…ŒìŠ¤íŠ¸
import os
required_files = [
    'data/raw/train.csv',
    'data/raw/meta.csv', 
    'data/raw/sample_submission.csv'
]
for file in required_files:
    if os.path.exists(file):
        print(f'âœ… {file} ì¡´ìž¬')
    else:
        print(f'âŒ {file} ì—†ìŒ')

print('ðŸŽ¯ ì‹œìŠ¤í…œ ê²€ì¦ ì™„ë£Œ!')
"
```

#### **ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬**
```bash
# ë¹ ë¥¸ í•™ìŠµ í…ŒìŠ¤íŠ¸ (1 ì—í¬í¬)
python3 -c "
import sys
sys.path.append('.')
import time
from src.training.train import train_model
from src.utils.common import load_yaml

cfg = load_yaml('configs/train.yaml')
cfg['training']['epochs'] = 1
cfg['training']['batch_size'] = 4

start_time = time.time()
# train_model(cfg, fold=0)  # ì‹¤ì œ ì‹¤í–‰ì‹œ ì£¼ì„ í•´ì œ
end_time = time.time()

print(f'â±ï¸ 1 ì—í¬í¬ ì˜ˆìƒ ì‹œê°„: {end_time - start_time:.1f}ì´ˆ')
"
```

---

## ðŸ“ž ì¶”ê°€ ì§€ì›

### **ë¡œê·¸ ìˆ˜ì§‘**
```bash
# ë¬¸ì œ ë°œìƒì‹œ ë¡œê·¸ ìˆ˜ì§‘
mkdir -p debug_logs/$(date +%Y%m%d_%H%M%S)
cp -r logs/ debug_logs/$(date +%Y%m%d_%H%M%S)/
cp configs/*.yaml debug_logs/$(date +%Y%m%d_%H%M%S)/
```

### **ì‹œìŠ¤í…œ ì •ë³´ ìˆ˜ì§‘**
```bash
# ì‹œìŠ¤í…œ ì •ë³´ ì €ìž¥
echo "=== ì‹œìŠ¤í…œ ì •ë³´ ===" > system_info.txt
date >> system_info.txt
uname -a >> system_info.txt
python3 --version >> system_info.txt
pip list | grep -E "torch|pandas|numpy" >> system_info.txt
nvidia-smi >> system_info.txt
```
