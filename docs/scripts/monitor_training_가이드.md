# ğŸ“Š monitor_training.sh ê°€ì´ë“œ

## ê°œìš”
í•™ìŠµ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê³  ì§„í–‰ ìƒí™©ì„ í™•ì¸í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤.

## ì£¼ìš” ê¸°ëŠ¥
- ğŸ” **í”„ë¡œì„¸ìŠ¤ ëª¨ë‹ˆí„°ë§**: í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ëª¨ë“  í•™ìŠµ í”„ë¡œì„¸ìŠ¤ í™•ì¸
- ğŸ“ˆ **ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰**: CPU, ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  ì‹¤ì‹œê°„ í‘œì‹œ
- ğŸ“ **ë¡œê·¸ ì¶”ì **: ìµœì‹  ë¡œê·¸ íŒŒì¼ì˜ ë§ˆì§€ë§‰ 5ì¤„ ì¶œë ¥
- â° **ì‹¤í–‰ ì‹œê°„**: ê° í”„ë¡œì„¸ìŠ¤ì˜ ëˆ„ì  ì‹¤í–‰ ì‹œê°„ í‘œì‹œ

## ì‚¬ìš©ë²•

### ê¸°ë³¸ ì‹¤í–‰
```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ ì‹¤í–‰
./scripts/monitor_training.sh
```

### ì¶œë ¥ ì˜ˆì‹œ
```
=== í•™ìŠµ í”„ë¡œì„¸ìŠ¤ ëª¨ë‹ˆí„°ë§ ===
í˜„ì¬ ì‹œê°„: 2025-09-08 00:53:15

ğŸ“Š ì‹¤í–‰ ì¤‘ì¸ í•™ìŠµ í”„ë¡œì„¸ìŠ¤:
  PID: 1596670 | CPU: 102% | MEM: 7.9% | TIME: 387:35
  PID: 1723807 | CPU: 2.0% | MEM: 4.0% | TIME: 0:04

ğŸ“ ìµœì‹  ë¡œê·¸ íŒŒì¼:
  íŒŒì¼: logs/train/train_highperf_20250907-1825_swin-sighperf-d12239_basic_augmentation.log
  ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2025-09-08 00:49:58.493492287 +0900

ğŸ“‹ ìµœê·¼ ë¡œê·¸ (ë§ˆì§€ë§‰ 5ì¤„):
2025-09-08 00:49:43 | [EPOCH 7] >>> TRAIN start | steps=20 mixup=True
2025-09-08 00:49:58 | [EPOCH 7][TRAIN step 1/20] loss=0.27779 lr=0.000086 bs=64
```

## ëª¨ë‹ˆí„°ë§ ì •ë³´ í•´ì„

### í”„ë¡œì„¸ìŠ¤ ì •ë³´
- **PID**: í”„ë¡œì„¸ìŠ¤ ê³ ìœ  ì‹ë³„ë²ˆí˜¸
- **CPU**: CPU ì‚¬ìš©ë¥  (100% = 1ê°œ ì½”ì–´ 100% ì‚¬ìš©)
- **MEM**: ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  (ì „ì²´ ì‹œìŠ¤í…œ ë©”ëª¨ë¦¬ ëŒ€ë¹„ %)
- **TIME**: ëˆ„ì  ì‹¤í–‰ ì‹œê°„ (ì‹œê°„:ë¶„ ë˜ëŠ” ë¶„:ì´ˆ)

### ë¡œê·¸ ì •ë³´
- **ìµœì‹  ë¡œê·¸ íŒŒì¼**: ê°€ì¥ ìµœê·¼ì— ì—…ë°ì´íŠ¸ëœ ë¡œê·¸ íŒŒì¼ ê²½ë¡œ
- **ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: ë¡œê·¸ íŒŒì¼ì˜ ìµœì¢… ìˆ˜ì • ì‹œê°„
- **ìµœê·¼ ë¡œê·¸**: ì§„í–‰ ìƒí™©ì„ íŒŒì•…í•  ìˆ˜ ìˆëŠ” ë§ˆì§€ë§‰ 5ì¤„

## í™œìš© ì‹œë‚˜ë¦¬ì˜¤

### 1. í•™ìŠµ ì§„í–‰ ìƒí™© í™•ì¸
```bash
# 5ë¶„ë§ˆë‹¤ ìë™ ëª¨ë‹ˆí„°ë§
while true; do
    ./scripts/monitor_training.sh
    echo "ë‹¤ìŒ í™•ì¸ê¹Œì§€ 5ë¶„ ëŒ€ê¸°..."
    sleep 300
done
```

### 2. í”„ë¡œì„¸ìŠ¤ ì´ìƒ ê°ì§€
- **CPU ì‚¬ìš©ë¥ ì´ 0%**: í”„ë¡œì„¸ìŠ¤ê°€ ë©ˆì¶˜ ìƒíƒœ (ì—ëŸ¬ ê°€ëŠ¥ì„±)
- **ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ ì´ 90% ì´ìƒ**: ë©”ëª¨ë¦¬ ë¶€ì¡± ìœ„í—˜
- **TIMEì´ ë„ˆë¬´ ì˜¤ë˜**: ì˜ˆìƒ ì‹œê°„ì„ ì´ˆê³¼í•œ ì‹¤í–‰

### 3. ë¡œê·¸ ë¶„ì„
```bash
# íŠ¹ì • ë¡œê·¸ íŒŒì¼ ì „ì²´ í™•ì¸
tail -f logs/train/train_highperf_20250907-1825_swin-sighperf-d12239_basic_augmentation.log

# ì—ëŸ¬ ë¡œê·¸ ê²€ìƒ‰
grep -i "error\|exception\|fail" logs/train/*.log
```

## ë¬¸ì œ í•´ê²°

### í”„ë¡œì„¸ìŠ¤ê°€ ë³´ì´ì§€ ì•ŠëŠ” ê²½ìš°
```bash
# ëª¨ë“  Python í”„ë¡œì„¸ìŠ¤ í™•ì¸
ps aux | grep python

# íŠ¹ì • í¬íŠ¸ ì‚¬ìš© ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ í™•ì¸ (WandB ë“±)
netstat -tlnp | grep :8080
```

### ë¡œê·¸ íŒŒì¼ì´ ì—†ëŠ” ê²½ìš°
```bash
# logs ë””ë ‰í„°ë¦¬ êµ¬ì¡° í™•ì¸
find logs/ -type f -name "*.log" | head -10

# ìµœê·¼ ìƒì„±ëœ íŒŒì¼ í™•ì¸
find logs/ -type f -mtime -1
```

### í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œê°€ í•„ìš”í•œ ê²½ìš°
```bash
# ëª¨ë“  í•™ìŠµ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
pkill -f train_main.py

# íŠ¹ì • PID ì¢…ë£Œ
kill -9 [PIDë²ˆí˜¸]

# ê°•ì œ ì¢…ë£Œ í›„ GPU ë©”ëª¨ë¦¬ ì •ë¦¬
nvidia-smi --gpu-reset
```

## ìë™í™” íŒ

### cronì„ ì´ìš©í•œ ì£¼ê¸°ì  ëª¨ë‹ˆí„°ë§
```bash
# crontab í¸ì§‘
crontab -e

# ë§¤ 5ë¶„ë§ˆë‹¤ ëª¨ë‹ˆí„°ë§ ê²°ê³¼ë¥¼ ë¡œê·¸ íŒŒì¼ì— ì €ì¥
*/5 * * * * cd /path/to/project && ./scripts/monitor_training.sh >> monitoring.log 2>&1
```

### ì•ŒëŒ ì„¤ì •
```bash
# í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œë˜ë©´ ì•Œë¦¼
while ps -p [PID] > /dev/null; do sleep 60; done && echo "í•™ìŠµ ì™„ë£Œ!" | mail -s "Training Finished" user@email.com
```

## ê´€ë ¨ íŒŒì¼
- `logs/train/`: í•™ìŠµ ë¡œê·¸ ë””ë ‰í„°ë¦¬
- `logs/pipeline/`: íŒŒì´í”„ë¼ì¸ ë¡œê·¸ ë””ë ‰í„°ë¦¬
- `src/training/train_main.py`: ë©”ì¸ í•™ìŠµ ìŠ¤í¬ë¦½íŠ¸
- `configs/`: ì„¤ì • íŒŒì¼ë“¤

## ì°¸ê³  ëª…ë ¹ì–´
```bash
# ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
htop

# GPU ëª¨ë‹ˆí„°ë§
nvidia-smi -l 5

# ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ í™•ì¸
df -h

# ë„¤íŠ¸ì›Œí¬ ì—°ê²° ìƒíƒœ
netstat -an | grep ESTABLISHED
```
